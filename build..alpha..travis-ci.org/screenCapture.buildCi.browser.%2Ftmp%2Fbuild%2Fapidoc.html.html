<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://mochajs.org">mocha (v3.3.0)</a>
</h1>
<h4>simple, flexible, fun test framework</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha">module mocha</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.base">
            function <span class="apidocSignatureSpan">mocha.</span>base
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context">
            function <span class="apidocSignatureSpan">mocha.</span>context
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.dot">
            function <span class="apidocSignatureSpan">mocha.</span>dot
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.hook">
            function <span class="apidocSignatureSpan">mocha.</span>hook
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.html">
            function <span class="apidocSignatureSpan">mocha.</span>html
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.landing">
            function <span class="apidocSignatureSpan">mocha.</span>landing
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.list">
            function <span class="apidocSignatureSpan">mocha.</span>list
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan">
            function <span class="apidocSignatureSpan">mocha.</span>nyan
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress">
            function <span class="apidocSignatureSpan">mocha.</span>progress
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable">
            function <span class="apidocSignatureSpan">mocha.</span>runnable
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner">
            function <span class="apidocSignatureSpan">mocha.</span>runner
            <span class="apidocSignatureSpan">(suite, delay)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite">
            function <span class="apidocSignatureSpan">mocha.</span>suite
            <span class="apidocSignatureSpan">(title, parentContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit">
            function <span class="apidocSignatureSpan">mocha.</span>xunit
            <span class="apidocSignatureSpan">(runner, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>base.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>context.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>hook.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>html.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>nyan.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>progress.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>runnable.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>runner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>suite.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>tty</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.</span>xunit.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.base">module mocha.base</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mocha.base.</span>inlineDiffs</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.base.base">
            function <span class="apidocSignatureSpan">mocha.</span>base
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.base.color">
            function <span class="apidocSignatureSpan">mocha.base.</span>color
            <span class="apidocSignatureSpan">(type, str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.base.list">
            function <span class="apidocSignatureSpan">mocha.base.</span>list
            <span class="apidocSignatureSpan">(failures)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.base.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.base.</span>cursor</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.base.</span>symbols</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.base.</span>useColors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mocha.base.</span>window</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.base.prototype">module mocha.base.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.base.prototype.epilogue">
            function <span class="apidocSignatureSpan">mocha.base.prototype.</span>epilogue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.context">module mocha.context</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.context">
            function <span class="apidocSignatureSpan">mocha.</span>context
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.context.prototype">module mocha.context.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.enableTimeouts">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>enableTimeouts
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.inspect">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.retries">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>retries
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.runnable">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>runnable
            <span class="apidocSignatureSpan">(runnable)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.skip">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>skip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.slow">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>slow
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.context.prototype.timeout">
            function <span class="apidocSignatureSpan">mocha.context.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.dot">module mocha.dot</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.dot.dot">
            function <span class="apidocSignatureSpan">mocha.</span>dot
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.dot.super_">
            function <span class="apidocSignatureSpan">mocha.dot.</span>super_
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.events">module mocha.events</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.events.EventEmitter">
            function <span class="apidocSignatureSpan">mocha.events.</span>EventEmitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.hook">module mocha.hook</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.hook.hook">
            function <span class="apidocSignatureSpan">mocha.</span>hook
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.hook.super_">
            function <span class="apidocSignatureSpan">mocha.hook.</span>super_
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.hook.prototype">module mocha.hook.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.hook.prototype.error">
            function <span class="apidocSignatureSpan">mocha.hook.prototype.</span>error
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.html">module mocha.html</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.html.html">
            function <span class="apidocSignatureSpan">mocha.</span>html
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.html.prototype">module mocha.html.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.html.prototype.addCodeToggle">
            function <span class="apidocSignatureSpan">mocha.html.prototype.</span>addCodeToggle
            <span class="apidocSignatureSpan">(el, contents)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.html.prototype.suiteURL">
            function <span class="apidocSignatureSpan">mocha.html.prototype.</span>suiteURL
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.html.prototype.testURL">
            function <span class="apidocSignatureSpan">mocha.html.prototype.</span>testURL
            <span class="apidocSignatureSpan">(test)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.index">module mocha.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.index.bdd">
            function <span class="apidocSignatureSpan">mocha.index.</span>bdd
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.index.exports">
            function <span class="apidocSignatureSpan">mocha.index.</span>exports
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.index.qunit">
            function <span class="apidocSignatureSpan">mocha.index.</span>qunit
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.index.tdd">
            function <span class="apidocSignatureSpan">mocha.index.</span>tdd
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.landing">module mocha.landing</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.landing.landing">
            function <span class="apidocSignatureSpan">mocha.</span>landing
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.landing.super_">
            function <span class="apidocSignatureSpan">mocha.landing.</span>super_
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.list">module mocha.list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.list.list">
            function <span class="apidocSignatureSpan">mocha.</span>list
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.list.super_">
            function <span class="apidocSignatureSpan">mocha.list.</span>super_
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.nyan">module mocha.nyan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.nyan">
            function <span class="apidocSignatureSpan">mocha.</span>nyan
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.super_">
            function <span class="apidocSignatureSpan">mocha.nyan.</span>super_
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.nyan.prototype">module mocha.nyan.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.appendRainbow">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>appendRainbow
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.cursorDown">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>cursorDown
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.cursorUp">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>cursorUp
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.draw">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>draw
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.drawNyanCat">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawNyanCat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.drawRainbow">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawRainbow
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.drawScoreboard">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawScoreboard
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.face">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>face
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.generateColors">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>generateColors
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.nyan.prototype.rainbowify">
            function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>rainbowify
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.progress">module mocha.progress</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.progress">
            function <span class="apidocSignatureSpan">mocha.</span>progress
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.progress.prototype">module mocha.progress.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.draw">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>draw
            <span class="apidocSignatureSpan">(ctx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.font">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>font
            <span class="apidocSignatureSpan">(family)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.fontSize">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>fontSize
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.size">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>size
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.text">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>text
            <span class="apidocSignatureSpan">(text)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.progress.prototype.update">
            function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>update
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.runnable">module mocha.runnable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.runnable">
            function <span class="apidocSignatureSpan">mocha.</span>runnable
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.runnable.prototype">module mocha.runnable.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.clearTimeout">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>clearTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.constructor">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>constructor
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.currentRetry">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>currentRetry
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.enableTimeouts">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>enableTimeouts
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.fullTitle">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>fullTitle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.globals">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>globals
            <span class="apidocSignatureSpan">(globals)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.inspect">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.isPending">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.resetTimeout">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>resetTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.retries">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>retries
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.run">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>run
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.skip">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>skip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.slow">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>slow
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runnable.prototype.timeout">
            function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.runner">module mocha.runner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.runner">
            function <span class="apidocSignatureSpan">mocha.</span>runner
            <span class="apidocSignatureSpan">(suite, delay)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.immediately">
            function <span class="apidocSignatureSpan">mocha.runner.</span>immediately
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.super_">
            function <span class="apidocSignatureSpan">mocha.runner.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.runner.prototype">module mocha.runner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.abort">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.checkGlobals">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>checkGlobals
            <span class="apidocSignatureSpan">(test)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.fail">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>fail
            <span class="apidocSignatureSpan">(test, err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.failHook">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>failHook
            <span class="apidocSignatureSpan">(hook, err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.globalProps">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>globalProps
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.globals">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>globals
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.grep">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>grep
            <span class="apidocSignatureSpan">(re, invert)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.grepTotal">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>grepTotal
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.hook">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hook
            <span class="apidocSignatureSpan">(name, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.hookDown">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hookDown
            <span class="apidocSignatureSpan">(name, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.hookUp">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hookUp
            <span class="apidocSignatureSpan">(name, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.hooks">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hooks
            <span class="apidocSignatureSpan">(name, suites, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.parents">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>parents
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.run">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>run
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.runSuite">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runSuite
            <span class="apidocSignatureSpan">(suite, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.runTest">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runTest
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.runTests">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runTests
            <span class="apidocSignatureSpan">(suite, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.runner.prototype.uncaught">
            function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>uncaught
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.suite">module mocha.suite</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.suite">
            function <span class="apidocSignatureSpan">mocha.</span>suite
            <span class="apidocSignatureSpan">(title, parentContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.create">
            function <span class="apidocSignatureSpan">mocha.suite.</span>create
            <span class="apidocSignatureSpan">(parent, title)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.super_">
            function <span class="apidocSignatureSpan">mocha.suite.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.suite.prototype">module mocha.suite.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.addSuite">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>addSuite
            <span class="apidocSignatureSpan">(suite)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.addTest">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>addTest
            <span class="apidocSignatureSpan">(test)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.afterAll">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>afterAll
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.afterEach">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>afterEach
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.bail">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>bail
            <span class="apidocSignatureSpan">(bail)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.beforeAll">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>beforeAll
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.beforeEach">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>beforeEach
            <span class="apidocSignatureSpan">(title, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.clone">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.eachTest">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>eachTest
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.enableTimeouts">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>enableTimeouts
            <span class="apidocSignatureSpan">(enabled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.fullTitle">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>fullTitle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.isPending">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.retries">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>retries
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.run">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.slow">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>slow
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.timeout">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.suite.prototype.total">
            function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>total
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.tty">module mocha.tty</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.tty.getWindowSize">
            function <span class="apidocSignatureSpan">mocha.tty.</span>getWindowSize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.tty.isatty">
            function <span class="apidocSignatureSpan">mocha.tty.</span>isatty
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.utils">module mocha.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.canonicalize">
            function <span class="apidocSignatureSpan">mocha.utils.</span>canonicalize
            <span class="apidocSignatureSpan">(value, stack, typeHint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.clean">
            function <span class="apidocSignatureSpan">mocha.utils.</span>clean
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.escape">
            function <span class="apidocSignatureSpan">mocha.utils.</span>escape
            <span class="apidocSignatureSpan">(html)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.files">
            function <span class="apidocSignatureSpan">mocha.utils.</span>files
            <span class="apidocSignatureSpan">(dir, ext, ret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.filter">
            function <span class="apidocSignatureSpan">mocha.utils.</span>filter
            <span class="apidocSignatureSpan">(arr, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.forEach">
            function <span class="apidocSignatureSpan">mocha.utils.</span>forEach
            <span class="apidocSignatureSpan">(arr, fn, scope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.getError">
            function <span class="apidocSignatureSpan">mocha.utils.</span>getError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.highlightTags">
            function <span class="apidocSignatureSpan">mocha.utils.</span>highlightTags
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.indexOf">
            function <span class="apidocSignatureSpan">mocha.utils.</span>indexOf
            <span class="apidocSignatureSpan">(arr, obj, start)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.inherits">
            function <span class="apidocSignatureSpan">mocha.utils.</span>inherits
            <span class="apidocSignatureSpan">(ctor, superCtor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.isArray">
            function <span class="apidocSignatureSpan">mocha.utils.</span>isArray
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.isBuffer">
            function <span class="apidocSignatureSpan">mocha.utils.</span>isBuffer
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.isPromise">
            function <span class="apidocSignatureSpan">mocha.utils.</span>isPromise
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.isString">
            function <span class="apidocSignatureSpan">mocha.utils.</span>isString
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.keys">
            function <span class="apidocSignatureSpan">mocha.utils.</span>keys
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.lookupFiles">
            function <span class="apidocSignatureSpan">mocha.utils.</span>lookupFiles
            <span class="apidocSignatureSpan">(path, extensions, recursive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.map">
            function <span class="apidocSignatureSpan">mocha.utils.</span>map
            <span class="apidocSignatureSpan">(arr, fn, scope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.noop">
            function <span class="apidocSignatureSpan">mocha.utils.</span>noop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.parseQuery">
            function <span class="apidocSignatureSpan">mocha.utils.</span>parseQuery
            <span class="apidocSignatureSpan">(qs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.reduce">
            function <span class="apidocSignatureSpan">mocha.utils.</span>reduce
            <span class="apidocSignatureSpan">(arr, fn, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.slug">
            function <span class="apidocSignatureSpan">mocha.utils.</span>slug
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.some">
            function <span class="apidocSignatureSpan">mocha.utils.</span>some
            <span class="apidocSignatureSpan">(arr, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.stackTraceFilter">
            function <span class="apidocSignatureSpan">mocha.utils.</span>stackTraceFilter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.stringify">
            function <span class="apidocSignatureSpan">mocha.utils.</span>stringify
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.trim">
            function <span class="apidocSignatureSpan">mocha.utils.</span>trim
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.type">
            function <span class="apidocSignatureSpan">mocha.utils.</span>type
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.undefinedError">
            function <span class="apidocSignatureSpan">mocha.utils.</span>undefinedError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.utils.watch">
            function <span class="apidocSignatureSpan">mocha.utils.</span>watch
            <span class="apidocSignatureSpan">(files, fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.xunit">module mocha.xunit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit.xunit">
            function <span class="apidocSignatureSpan">mocha.</span>xunit
            <span class="apidocSignatureSpan">(runner, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit.super_">
            function <span class="apidocSignatureSpan">mocha.xunit.</span>super_
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mocha.xunit.prototype">module mocha.xunit.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit.prototype.done">
            function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>done
            <span class="apidocSignatureSpan">(failures, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit.prototype.test">
            function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>test
            <span class="apidocSignatureSpan">(test)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mocha.xunit.prototype.write">
            function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>write
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha" id="apidoc.module.mocha">module mocha</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.base" id="apidoc.element.mocha.base">
        function <span class="apidocSignatureSpan">mocha.</span>base
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context" id="apidoc.element.mocha.context">
        function <span class="apidocSignatureSpan">mocha.</span>context
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Context() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.dot" id="apidoc.element.mocha.dot">
        function <span class="apidocSignatureSpan">mocha.</span>dot
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dot(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var n = -1;

  runner.on('start', function () {
    process.stdout.write('\n');
  });

  runner.on('pending', function () {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    process.stdout.write(color('pending', Base.symbols.comma));
  });

  runner.on('pass', function (test) {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    if (test.speed === 'slow') {
      process.stdout.write(color('bright yellow', Base.symbols.dot));
    } else {
      process.stdout.write(color(test.speed, Base.symbols.dot));
    }
  });

  runner.on('fail', function () {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    process.stdout.write(color('fail', Base.symbols.bang));
  });

  runner.on('end', function () {
    console.log();
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.hook" id="apidoc.element.mocha.hook">
        function <span class="apidocSignatureSpan">mocha.</span>hook
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Hook(title, fn) {
  Runnable.call(this, title, fn);
  this.type = 'hook';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    self.suite = suite;

    if (!suite) {
self.suite = orig;
return fn();
    }

    self.<span class="apidocCodeKeywordSpan">hook</span>(name, function (err) {
if (err) {
  var errSuite = self.suite;
  self.suite = orig;
  return fn(err, errSuite);
}

next(suites.pop());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.html" id="apidoc.element.mocha.html">
        function <span class="apidocSignatureSpan">mocha.</span>html
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HTML(runner) {
  Base.call(this, runner);

  var self = this;
  var stats = this.stats;
  var stat = fragment(statsTemplate);
  var items = stat.getElementsByTagName('li');
  var passes = items[1].getElementsByTagName('em')[0];
  var passesLink = items[1].getElementsByTagName('a')[0];
  var failures = items[2].getElementsByTagName('em')[0];
  var failuresLink = items[2].getElementsByTagName('a')[0];
  var duration = items[3].getElementsByTagName('em')[0];
  var canvas = stat.getElementsByTagName('canvas')[0];
  var report = fragment('&lt;ul id="mocha-report"&gt;&lt;/ul&gt;');
  var stack = [report];
  var progress;
  var ctx;
  var root = document.getElementById('mocha');

  if (canvas.getContext) {
    var ratio = window.devicePixelRatio || 1;
    canvas.style.width = canvas.width;
    canvas.style.height = canvas.height;
    canvas.width *= ratio;
    canvas.height *= ratio;
    ctx = canvas.getContext('2d');
    ctx.scale(ratio, ratio);
    progress = new Progress();
  }

  if (!root) {
    return error('#mocha div missing, add it to your document');
  }

  // pass toggle
  on(passesLink, 'click', function (evt) {
    evt.preventDefault();
    unhide();
    var name = (/pass/).test(report.className) ? '' : ' pass';
    report.className = report.className.replace(/fail|pass/g, '') + name;
    if (report.className.trim()) {
      hideSuitesWithout('test pass');
    }
  });

  // failure toggle
  on(failuresLink, 'click', function (evt) {
    evt.preventDefault();
    unhide();
    var name = (/fail/).test(report.className) ? '' : ' fail';
    report.className = report.className.replace(/fail|pass/g, '') + name;
    if (report.className.trim()) {
      hideSuitesWithout('test fail');
    }
  });

  root.appendChild(stat);
  root.appendChild(report);

  if (progress) {
    progress.size(40);
  }

  runner.on('suite', function (suite) {
    if (suite.root) {
      return;
    }

    // suite
    var url = self.suiteURL(suite);
    var el = fragment('&lt;li class="suite"&gt;&lt;h1&gt;&lt;a href="%s"&gt;%s&lt;/a&gt;&lt;/h1&gt;&lt;/li&gt;', url, escape(suite.title));

    // container
    stack[0].appendChild(el);
    stack.unshift(document.createElement('ul'));
    el.appendChild(stack[0]);
  });

  runner.on('suite end', function (suite) {
    if (suite.root) {
      updateStats();
      return;
    }
    stack.shift();
  });

  runner.on('pass', function (test) {
    var url = self.testURL(test);
    var markup = '&lt;li class="test pass %e"&gt;&lt;h2&gt;%e&lt;span class="duration"&gt;%ems&lt;/span&gt; ' +
      '&lt;a href="%s" class="replay"&gt;' + playIcon + '&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;';
    var el = fragment(markup, test.speed, test.title, test.duration, url);
    self.addCodeToggle(el, test.body);
    appendToStack(el);
    updateStats();
  });

  runner.on('fail', function (test) {
    var el = fragment('&lt;li class="test fail"&gt;&lt;h2&gt;%e &lt;a href="%e" class="replay"&gt;' + playIcon + '&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;',
      test.title, self.testURL(test));
    var stackString; // Note: Includes leading newline
    var message = test.err.toString();

    // &lt;=IE7 stringifies to [Object Error]. Since it can be overloaded, we
    // check for the result of the stringifying.
    if (message === '[object Error]') {
      message = test.err.message;
    }

    if (test.err.stack) {
      var indexOfMessage = test.err.stack.indexOf(test.err.message);
      if (indexOfMessage === -1) {
        stackString = test.err.stack;
      } else {
        stackString = test.err.stack.substr(test.err.message.length + indexOfMessage);
      }
    } else if (test.err.sourceURL &amp;&amp; test.err.line !== undefined) {
      // Safari doesn't give you a stack. Let's at least provide a source line.
      stackString = '\n(' + test.err.sourceURL + ':' + test.err.line + ')';
    }

    stackString = stackString || '';

    if (test.err.htmlMessage &amp;&amp; stackString) {
      el.appendChild(fragment('&lt;div class="html-error"&gt;%s\n&lt;pre class="error"&gt;%e&lt;/pre&gt;&lt;/div&gt;',
        test.err.htmlMessage, stackString));
    } else if (test.err.htmlMessage) {
      el.appendChild(fragment('&lt;div class="html-error"&gt;%s&lt;/div&gt;', test.err.htmlMessage));
    } else {
      el.app ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.landing" id="apidoc.element.mocha.landing">
        function <span class="apidocSignatureSpan">mocha.</span>landing
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Landing(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var total = runner.total;
  var stream = process.stdout;
  var plane = color('plane', 'âœˆ');
  var crashed = -1;
  var n = 0;

  function runway () {
    var buf = Array(width).join('-');
    return '  ' + color('runway', buf);
  }

  runner.on('start', function () {
    stream.write('\n\n\n  ');
    cursor.hide();
  });

  runner.on('test end', function (test) {
    // check if the plane crashed
    var col = crashed === -1 ? width * ++n / total | 0 : crashed;

    // show the crash
    if (test.state === 'failed') {
      plane = color('plane crash', 'âœˆ');
      crashed = col;
    }

    // render landing strip
    stream.write('\u001b[' + (width + 1) + 'D\u001b[2A');
    stream.write(runway());
    stream.write('\n  ');
    stream.write(color('runway', Array(col).join('â‹…')));
    stream.write(plane);
    stream.write(color('runway', Array(width - col).join('â‹…') + '\n'));
    stream.write(runway());
    stream.write('\u001b[0m');
  });

  runner.on('end', function () {
    cursor.show();
    console.log();
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.list" id="apidoc.element.mocha.list">
        function <span class="apidocSignatureSpan">mocha.</span>list
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function List(runner) {
  Base.call(this, runner);

  var self = this;
  var n = 0;

  runner.on('start', function () {
    console.log();
  });

  runner.on('test', function (test) {
    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));
  });

  runner.on('pending', function (test) {
    var fmt = color('checkmark', '  -') +
      color('pending', ' %s');
    console.log(fmt, test.fullTitle());
  });

  runner.on('pass', function (test) {
    var fmt = color('checkmark', '  ' + Base.symbols.ok) +
      color('pass', ' %s: ') +
      color(test.speed, '%dms');
    cursor.CR();
    console.log(fmt, test.fullTitle(), test.duration);
  });

  runner.on('fail', function (test) {
    cursor.CR();
    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());
  });

  runner.on('end', self.epilogue.bind(self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // failures
  if (stats.failures) {
    fmt = color('fail', '  %d failing');

    console.log(fmt, stats.failures);

    Base.<span class="apidocCodeKeywordSpan">list</span>(this.failures);
    console.log();
  }

  console.log();
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan" id="apidoc.element.mocha.nyan">
        function <span class="apidocSignatureSpan">mocha.</span>nyan
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NyanCat(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var nyanCatWidth = this.nyanCatWidth = 11;

  this.colorIndex = 0;
  this.numberOfLines = 4;
  this.rainbowColors = self.generateColors();
  this.scoreboardWidth = 5;
  this.tick = 0;
  this.trajectories = [[], [], [], []];
  this.trajectoryWidthMax = (width - nyanCatWidth);

  runner.on('start', function () {
    Base.cursor.hide();
    self.draw();
  });

  runner.on('pending', function () {
    self.draw();
  });

  runner.on('pass', function () {
    self.draw();
  });

  runner.on('fail', function () {
    self.draw();
  });

  runner.on('end', function () {
    Base.cursor.show();
    for (var i = 0; i &lt; self.numberOfLines; i++) {
      write('\n');
    }
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress" id="apidoc.element.mocha.progress">
        function <span class="apidocSignatureSpan">mocha.</span>progress
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Progress() {
  this.percent = 0;
  this.size(0);
  this.fontSize(11);
  this.font('helvetica, arial, sans-serif');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable" id="apidoc.element.mocha.runnable">
        function <span class="apidocSignatureSpan">mocha.</span>runnable
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runnable(title, fn) {
  this.title = title;
  this.fn = fn;
  this.body = (fn || '').toString();
  this.async = fn &amp;&amp; fn.length;
  this.sync = !this.async;
  this._timeout = 2000;
  this._slow = 75;
  this._enableTimeouts = true;
  this.timedOut = false;
  this._trace = new Error('done() called multiple times');
  this._retries = -1;
  this._currentRetry = 0;
  this.pending = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} ms
* @return {Context} self
*/
Context.prototype.timeout = function (ms) {
 if (!arguments.length) {
   return this.<span class="apidocCodeKeywordSpan">runnable</span>().timeout();
 }
 this.runnable().timeout(ms);
 return this;
};

/**
* Set test timeout `enabled`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner" id="apidoc.element.mocha.runner">
        function <span class="apidocSignatureSpan">mocha.</span>runner
        <span class="apidocSignatureSpan">(suite, delay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runner(suite, delay) {
  var self = this;
  this._globals = [];
  this._abort = false;
  this._delay = delay;
  this.suite = suite;
  this.started = false;
  this.total = suite.total();
  this.failures = 0;
  this.on('test end', function (test) {
    self.checkGlobals(test);
  });
  this.on('hook end', function (hook) {
    self.checkGlobals(hook);
  });
  this._defaultGrep = /.*/;
  this.grep(this._defaultGrep);
  this.globals(this.globalProps().concat(extraGlobals()));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite" id="apidoc.element.mocha.suite">
        function <span class="apidocSignatureSpan">mocha.</span>suite
        <span class="apidocSignatureSpan">(title, parentContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Suite(title, parentContext) {
  if (!utils.isString(title)) {
    throw new Error('Suite `title` should be a "string" but "' + typeof title + '" was given instead.');
  }
  this.title = title;
  function Context () {}
  Context.prototype = parentContext;
  this.ctx = new Context();
  this.suites = [];
  this.tests = [];
  this.pending = false;
  this._beforeEach = [];
  this._beforeAll = [];
  this._afterEach = [];
  this._afterAll = [];
  this.root = !title;
  this._timeout = 2000;
  this._enableTimeouts = true;
  this._slow = 75;
  this._bail = false;
  this._retries = -1;
  this._onlyTests = [];
  this._onlySuites = [];
  this.delayed = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.xunit" id="apidoc.element.mocha.xunit">
        function <span class="apidocSignatureSpan">mocha.</span>xunit
        <span class="apidocSignatureSpan">(runner, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function XUnit(runner, options) {
  Base.call(this, runner);

  var stats = this.stats;
  var tests = [];
  var self = this;

  if (options &amp;&amp; options.reporterOptions &amp;&amp; options.reporterOptions.output) {
    if (!fs.createWriteStream) {
      throw new Error('file output not supported in browser');
    }
    mkdirp.sync(path.dirname(options.reporterOptions.output));
    self.fileStream = fs.createWriteStream(options.reporterOptions.output);
  }

  runner.on('pending', function (test) {
    tests.push(test);
  });

  runner.on('pass', function (test) {
    tests.push(test);
  });

  runner.on('fail', function (test) {
    tests.push(test);
  });

  runner.on('end', function () {
    self.write(tag('testsuite', {
      name: 'Mocha Tests',
      tests: stats.tests,
      failures: stats.failures,
      errors: stats.failures,
      skipped: stats.tests - stats.failures - stats.passes,
      timestamp: (new Date()).toUTCString(),
      time: (stats.duration / 1000) || 0
    }, false));

    tests.forEach(function (t) {
      self.test(t);
    });

    self.write('&lt;/testsuite&gt;');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.base" id="apidoc.module.mocha.base">module mocha.base</a></h1>




    <h2>
        <a href="#apidoc.element.mocha.base.base" id="apidoc.element.mocha.base.base">
        function <span class="apidocSignatureSpan">mocha.</span>base
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.base.color" id="apidoc.element.mocha.base.color">
        function <span class="apidocSignatureSpan">mocha.base.</span>color
        <span class="apidocSignatureSpan">(type, str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">color = function (type, str) {
  if (!exports.useColors) {
    return String(str);
  }
  return '\u001b[' + exports.colors[type] + 'm' + str + '\u001b[0m';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

NyanCat.prototype.drawScoreboard = function () {
var stats = this.stats;

function draw (type, n) {
  write(' ');
  write(Base.<span class="apidocCodeKeywordSpan">color</span>(type, n));
  write('\n');
}

draw('green', stats.passes);
draw('fail', stats.failures);
draw('pending', stats.pending);
write('\n');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.base.list" id="apidoc.element.mocha.base.list">
        function <span class="apidocSignatureSpan">mocha.base.</span>list
        <span class="apidocSignatureSpan">(failures)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (failures) {
  console.log();
  failures.forEach(function (test, i) {
    // format
    var fmt = color('error title', '  %s) %s:\n') +
      color('error message', '     %s') +
      color('error stack', '\n%s\n');

    // msg
    var msg;
    var err = test.err;
    var message;
    if (err.message &amp;&amp; typeof err.message.toString === 'function') {
      message = err.message + '';
    } else if (typeof err.inspect === 'function') {
      message = err.inspect() + '';
    } else {
      message = '';
    }
    var stack = err.stack || message;
    var index = message ? stack.indexOf(message) : -1;
    var actual = err.actual;
    var expected = err.expected;
    var escape = true;

    if (index === -1) {
      msg = message;
    } else {
      index += message.length;
      msg = stack.slice(0, index);
      // remove msg from stack
      stack = stack.slice(index + 1);
    }

    // uncaught
    if (err.uncaught) {
      msg = 'Uncaught ' + msg;
    }
    // explicitly show diff
    if (err.showDiff !== false &amp;&amp; sameType(actual, expected) &amp;&amp; expected !== undefined) {
      escape = false;
      if (!(utils.isString(actual) &amp;&amp; utils.isString(expected))) {
        err.actual = actual = utils.stringify(actual);
        err.expected = expected = utils.stringify(expected);
      }

      fmt = color('error title', '  %s) %s:\n%s') + color('error stack', '\n%s\n');
      var match = message.match(/^([^:]+): expected/);
      msg = '\n      ' + color('error message', match ? match[1] : msg);

      if (exports.inlineDiffs) {
        msg += inlineDiff(err, escape);
      } else {
        msg += unifiedDiff(err, escape);
      }
    }

    // indent stack trace
    stack = stack.replace(/^/gm, '  ');

    console.log(fmt, (i + 1), test.fullTitle(), msg, stack);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // failures
  if (stats.failures) {
    fmt = color('fail', '  %d failing');

    console.log(fmt, stats.failures);

    Base.<span class="apidocCodeKeywordSpan">list</span>(this.failures);
    console.log();
  }

  console.log();
};

/**
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.base.prototype" id="apidoc.module.mocha.base.prototype">module mocha.base.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.base.prototype.epilogue" id="apidoc.element.mocha.base.prototype.epilogue">
        function <span class="apidocSignatureSpan">mocha.base.prototype.</span>epilogue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">epilogue = function () {
  var stats = this.stats;
  var fmt;

  console.log();

  // passes
  fmt = color('bright pass', ' ') +
    color('green', ' %d passing') +
    color('light', ' (%s)');

  console.log(fmt,
    stats.passes || 0,
    ms(stats.duration));

  // pending
  if (stats.pending) {
    fmt = color('pending', ' ') +
      color('pending', ' %d pending');

    console.log(fmt, stats.pending);
  }

  // failures
  if (stats.failures) {
    fmt = color('fail', '  %d failing');

    console.log(fmt, stats.failures);

    Base.list(this.failures);
    console.log();
  }

  console.log();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      process.stdout.write('\n  ');
    }
    process.stdout.write(color('fail', Base.symbols.bang));
  });

  runner.on('end', function () {
    console.log();
    self.<span class="apidocCodeKeywordSpan">epilogue</span>();
  });
}

/**
 * Inherit from `Base.prototype`.
 */
inherits(Dot, Base);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.context" id="apidoc.module.mocha.context">module mocha.context</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.context.context" id="apidoc.element.mocha.context.context">
        function <span class="apidocSignatureSpan">mocha.</span>context
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Context() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.context.prototype" id="apidoc.module.mocha.context.prototype">module mocha.context.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.context.prototype.enableTimeouts" id="apidoc.element.mocha.context.prototype.enableTimeouts">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>enableTimeouts
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableTimeouts = function (enabled) {
  this.runnable().enableTimeouts(enabled);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Set test timeout `enabled`.
*
* @api private
* @param {boolean} enabled
* @return {Context} self
*/
Context.prototype.enableTimeouts = function (enabled) {
 this.runnable().<span class="apidocCodeKeywordSpan">enableTimeouts</span>(enabled);
 return this;
};

/**
* Set test slowness threshold `ms`.
*
* @api private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.inspect" id="apidoc.element.mocha.context.prototype.inspect">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
  return JSON.stringify(this, function (key, val) {
    return key === 'runnable' || key === 'test' ? undefined : val;
  }, 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// msg
var msg;
var err = test.err;
var message;
if (err.message &amp;&amp; typeof err.message.toString === 'function') {
  message = err.message + '';
} else if (typeof err.inspect === 'function') {
  message = err.<span class="apidocCodeKeywordSpan">inspect</span>() + '';
} else {
  message = '';
}
var stack = err.stack || message;
var index = message ? stack.indexOf(message) : -1;
var actual = err.actual;
var expected = err.expected;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.retries" id="apidoc.element.mocha.context.prototype.retries">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>retries
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retries = function (n) {
  if (!arguments.length) {
    return this.runnable().retries();
  }
  this.runnable().retries(n);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} n
* @return {Context} self
*/
Context.prototype.retries = function (n) {
 if (!arguments.length) {
   return this.runnable().<span class="apidocCodeKeywordSpan">retries</span>();
 }
 this.runnable().retries(n);
 return this;
};

/**
* Inspect the context void of `._runnable`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.runnable" id="apidoc.element.mocha.context.prototype.runnable">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>runnable
        <span class="apidocSignatureSpan">(runnable)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runnable = function (runnable) {
  if (!arguments.length) {
    return this._runnable;
  }
  this.test = this._runnable = runnable;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} ms
* @return {Context} self
*/
Context.prototype.timeout = function (ms) {
 if (!arguments.length) {
   return this.<span class="apidocCodeKeywordSpan">runnable</span>().timeout();
 }
 this.runnable().timeout(ms);
 return this;
};

/**
* Set test timeout `enabled`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.skip" id="apidoc.element.mocha.context.prototype.skip">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>skip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function () {
  this.runnable().skip();
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2357]: Support `--inspect` on command-line ([@simov])
- [#2194]: Human-friendly error if no files are matched on command-line ([@Munter])
- [#1744]: Human-friendly error if a Suite has no callback (BDD/TDD only) ([@anton])

## :bug: Bug Fix

- [#2488]: Fix case in which *variables beginning with lowercase "D"* may not have been reported properly as global leaks
 ([@JustATrick]) :laughing:
- [#2465]: Always halt execution in async function when `this.<span class="apidocCodeKeywordSpan">skip</span>()` is called ([@boneskull
])
- [#2445]: Exits with expected code 130 when `SIGINT` encountered; exit code can no longer rollover at 256 ([@Munter])
- [#2315]: Fix uncaught TypeError thrown from callback stack ([@1999])
- Fix broken `only()`/`skip()` in IE7/IE8 ([@boneskull])
- [#2502]: Fix broken stack trace filter on Node.js under Windows ([@boneskull])
- [#2496]: Fix diff output for objects instantiated with `String` constructor ([more](https://youtrack.jetbrains.com/issue/WEB-23383
)) ([@boneskull])

[#2496]: https://github.com/mochajs/mocha/issues/2496
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.slow" id="apidoc.element.mocha.context.prototype.slow">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>slow
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slow = function (ms) {
  this.runnable().slow(ms);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2259]: Restore ES3 compatibility.  Specifically, support an environment lacking `Date.prototype.toISOString()`, `JSON`, or has
 a non-standard implementation of `JSON`. ([@ndhoule], [@boneskull])
- [#2286]: Fix `after()` failing to execute if test skipped using `this.skip()` in `beforeEach()`; no longer marks the entire suite
 as "pending". ([@dasilvacontin], [@boneskull])
- [#2208]: Fix function name display in `markdown` and `html` (browser) reporters. ([@ScottFreeCode])
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.<span class="apidocCodeKeywordSpan">slow</span>()` without a value would blast any
previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.timeout()` with very large values ([@callumacrae], [@boneskull
])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.context.prototype.timeout" id="apidoc.element.mocha.context.prototype.timeout">
        function <span class="apidocSignatureSpan">mocha.context.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms) {
  if (!arguments.length) {
    return this.runnable().timeout();
  }
  this.runnable().timeout(ms);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.slow()` without a value would blast any previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.<span class="apidocCodeKeywordSpan">timeout</span>()` with very
 large values ([@callumacrae], [@boneskull])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])

## :nut_and_bolt: Other

- Upgrade production dependencies to address security advisories (and because now we can): `glob`, `commander`, `escape-string-regexp
`,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.dot" id="apidoc.module.mocha.dot">module mocha.dot</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.dot.dot" id="apidoc.element.mocha.dot.dot">
        function <span class="apidocSignatureSpan">mocha.</span>dot
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dot(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var n = -1;

  runner.on('start', function () {
    process.stdout.write('\n');
  });

  runner.on('pending', function () {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    process.stdout.write(color('pending', Base.symbols.comma));
  });

  runner.on('pass', function (test) {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    if (test.speed === 'slow') {
      process.stdout.write(color('bright yellow', Base.symbols.dot));
    } else {
      process.stdout.write(color(test.speed, Base.symbols.dot));
    }
  });

  runner.on('fail', function () {
    if (++n % width === 0) {
      process.stdout.write('\n  ');
    }
    process.stdout.write(color('fail', Base.symbols.bang));
  });

  runner.on('end', function () {
    console.log();
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.dot.super_" id="apidoc.element.mocha.dot.super_">
        function <span class="apidocSignatureSpan">mocha.dot.</span>super_
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.events" id="apidoc.module.mocha.events">module mocha.events</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.events.EventEmitter" id="apidoc.element.mocha.events.EventEmitter">
        function <span class="apidocSignatureSpan">mocha.events.</span>EventEmitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.hook" id="apidoc.module.mocha.hook">module mocha.hook</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.hook.hook" id="apidoc.element.mocha.hook.hook">
        function <span class="apidocSignatureSpan">mocha.</span>hook
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Hook(title, fn) {
  Runnable.call(this, title, fn);
  this.type = 'hook';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    self.suite = suite;

    if (!suite) {
self.suite = orig;
return fn();
    }

    self.<span class="apidocCodeKeywordSpan">hook</span>(name, function (err) {
if (err) {
  var errSuite = self.suite;
  self.suite = orig;
  return fn(err, errSuite);
}

next(suites.pop());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.hook.super_" id="apidoc.element.mocha.hook.super_">
        function <span class="apidocSignatureSpan">mocha.hook.</span>super_
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runnable(title, fn) {
  this.title = title;
  this.fn = fn;
  this.body = (fn || '').toString();
  this.async = fn &amp;&amp; fn.length;
  this.sync = !this.async;
  this._timeout = 2000;
  this._slow = 75;
  this._enableTimeouts = true;
  this.timedOut = false;
  this._trace = new Error('done() called multiple times');
  this._retries = -1;
  this._currentRetry = 0;
  this.pending = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.hook.prototype" id="apidoc.module.mocha.hook.prototype">module mocha.hook.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.hook.prototype.error" id="apidoc.element.mocha.hook.prototype.error">
        function <span class="apidocSignatureSpan">mocha.hook.prototype.</span>error
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (err) {
  if (!arguments.length) {
    err = this._error;
    this._error = null;
    return err;
  }

  this._error = err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
==================

* Added 0.8.0 support

1.2.1 / 2012-06-25
==================

* Added `this.test.<span class="apidocCodeKeywordSpan">error</span>(err)` support to after each hooks. Closes #287
* Added: export top-level suite on global mocha object (mocha.suite). Closes #448
* Fixed `js` code block format error in markdown reporter
* Fixed deprecation warning when using `path.existsSync`
* Fixed --globals with wildcard
* Fixed chars in nyan when his head moves back
* Remove `--growl` from test/mocha.opts. Closes #289
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.html" id="apidoc.module.mocha.html">module mocha.html</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.html.html" id="apidoc.element.mocha.html.html">
        function <span class="apidocSignatureSpan">mocha.</span>html
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HTML(runner) {
  Base.call(this, runner);

  var self = this;
  var stats = this.stats;
  var stat = fragment(statsTemplate);
  var items = stat.getElementsByTagName('li');
  var passes = items[1].getElementsByTagName('em')[0];
  var passesLink = items[1].getElementsByTagName('a')[0];
  var failures = items[2].getElementsByTagName('em')[0];
  var failuresLink = items[2].getElementsByTagName('a')[0];
  var duration = items[3].getElementsByTagName('em')[0];
  var canvas = stat.getElementsByTagName('canvas')[0];
  var report = fragment('&lt;ul id="mocha-report"&gt;&lt;/ul&gt;');
  var stack = [report];
  var progress;
  var ctx;
  var root = document.getElementById('mocha');

  if (canvas.getContext) {
    var ratio = window.devicePixelRatio || 1;
    canvas.style.width = canvas.width;
    canvas.style.height = canvas.height;
    canvas.width *= ratio;
    canvas.height *= ratio;
    ctx = canvas.getContext('2d');
    ctx.scale(ratio, ratio);
    progress = new Progress();
  }

  if (!root) {
    return error('#mocha div missing, add it to your document');
  }

  // pass toggle
  on(passesLink, 'click', function (evt) {
    evt.preventDefault();
    unhide();
    var name = (/pass/).test(report.className) ? '' : ' pass';
    report.className = report.className.replace(/fail|pass/g, '') + name;
    if (report.className.trim()) {
      hideSuitesWithout('test pass');
    }
  });

  // failure toggle
  on(failuresLink, 'click', function (evt) {
    evt.preventDefault();
    unhide();
    var name = (/fail/).test(report.className) ? '' : ' fail';
    report.className = report.className.replace(/fail|pass/g, '') + name;
    if (report.className.trim()) {
      hideSuitesWithout('test fail');
    }
  });

  root.appendChild(stat);
  root.appendChild(report);

  if (progress) {
    progress.size(40);
  }

  runner.on('suite', function (suite) {
    if (suite.root) {
      return;
    }

    // suite
    var url = self.suiteURL(suite);
    var el = fragment('&lt;li class="suite"&gt;&lt;h1&gt;&lt;a href="%s"&gt;%s&lt;/a&gt;&lt;/h1&gt;&lt;/li&gt;', url, escape(suite.title));

    // container
    stack[0].appendChild(el);
    stack.unshift(document.createElement('ul'));
    el.appendChild(stack[0]);
  });

  runner.on('suite end', function (suite) {
    if (suite.root) {
      updateStats();
      return;
    }
    stack.shift();
  });

  runner.on('pass', function (test) {
    var url = self.testURL(test);
    var markup = '&lt;li class="test pass %e"&gt;&lt;h2&gt;%e&lt;span class="duration"&gt;%ems&lt;/span&gt; ' +
      '&lt;a href="%s" class="replay"&gt;' + playIcon + '&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;';
    var el = fragment(markup, test.speed, test.title, test.duration, url);
    self.addCodeToggle(el, test.body);
    appendToStack(el);
    updateStats();
  });

  runner.on('fail', function (test) {
    var el = fragment('&lt;li class="test fail"&gt;&lt;h2&gt;%e &lt;a href="%e" class="replay"&gt;' + playIcon + '&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;',
      test.title, self.testURL(test));
    var stackString; // Note: Includes leading newline
    var message = test.err.toString();

    // &lt;=IE7 stringifies to [Object Error]. Since it can be overloaded, we
    // check for the result of the stringifying.
    if (message === '[object Error]') {
      message = test.err.message;
    }

    if (test.err.stack) {
      var indexOfMessage = test.err.stack.indexOf(test.err.message);
      if (indexOfMessage === -1) {
        stackString = test.err.stack;
      } else {
        stackString = test.err.stack.substr(test.err.message.length + indexOfMessage);
      }
    } else if (test.err.sourceURL &amp;&amp; test.err.line !== undefined) {
      // Safari doesn't give you a stack. Let's at least provide a source line.
      stackString = '\n(' + test.err.sourceURL + ':' + test.err.line + ')';
    }

    stackString = stackString || '';

    if (test.err.htmlMessage &amp;&amp; stackString) {
      el.appendChild(fragment('&lt;div class="html-error"&gt;%s\n&lt;pre class="error"&gt;%e&lt;/pre&gt;&lt;/div&gt;',
        test.err.htmlMessage, stackString));
    } else if (test.err.htmlMessage) {
      el.appendChild(fragment('&lt;div class="html-error"&gt;%s&lt;/div&gt;', test.err.htmlMessage));
    } else {
      el.app ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.html.prototype" id="apidoc.module.mocha.html.prototype">module mocha.html.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.html.prototype.addCodeToggle" id="apidoc.element.mocha.html.prototype.addCodeToggle">
        function <span class="apidocSignatureSpan">mocha.html.prototype.</span>addCodeToggle
        <span class="apidocSignatureSpan">(el, contents)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addCodeToggle = function (el, contents) {
  var h2 = el.getElementsByTagName('h2')[0];

  on(h2, 'click', function () {
    pre.style.display = pre.style.display === 'none' ? 'block' : 'none';
  });

  var pre = fragment('&lt;pre&gt;&lt;code&gt;%e&lt;/code&gt;&lt;/pre&gt;', utils.clean(contents));
  el.appendChild(pre);
  pre.style.display = 'none';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

runner.on('pass', function (test) {
  var url = self.testURL(test);
  var markup = '&lt;li class="test pass %e"&gt;&lt;h2&gt;%e&lt;span class="duration"&gt;%ems
&lt;/span&gt; ' +
    '&lt;a href="%s" class="replay"&gt;&amp;#x2023;&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;'
;;
  var el = fragment(markup, test.speed, test.title, test.duration, url);
  self.<span class="apidocCodeKeywordSpan">addCodeToggle</span>(el, test.body);
  appendToStack(el);
  updateStats();
});

runner.on('fail', function (test) {
  var el = fragment('&lt;li class="test fail"&gt;&lt;h2&gt;%e &lt;a href="%e" class="replay
"&gt;&amp;#x2023;&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;',
    test.title, self.testURL(test));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.html.prototype.suiteURL" id="apidoc.element.mocha.html.prototype.suiteURL">
        function <span class="apidocSignatureSpan">mocha.html.prototype.</span>suiteURL
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">suiteURL = function (suite) {
  return makeUrl(suite.fullTitle());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

runner.on('suite', function (suite) {
  if (suite.root) {
    return;
  }

  // suite
  var url = self.<span class="apidocCodeKeywordSpan">suiteURL</span>(suite);
  var el = fragment('&lt;li class="suite"&gt;&lt;h1&gt;&lt;a href="%s"&gt;%s&lt;/a&gt;&amp;#
x3c;/h1&gt;&lt;/li&gt;', url, escape(suite.title));

  // container
  stack[0].appendChild(el);
  stack.unshift(document.createElement('ul'));
  el.appendChild(stack[0]);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.html.prototype.testURL" id="apidoc.element.mocha.html.prototype.testURL">
        function <span class="apidocSignatureSpan">mocha.html.prototype.</span>testURL
        <span class="apidocSignatureSpan">(test)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">testURL = function (test) {
  return makeUrl(test.fullTitle());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    updateStats();
    return;
  }
  stack.shift();
});

runner.on('pass', function (test) {
  var url = self.<span class="apidocCodeKeywordSpan">testURL</span>(test);
  var markup = '&lt;li class="test pass %e"&gt;&lt;h2&gt;%e&lt;span class="duration"&gt;%ems
&lt;/span&gt; ' +
    '&lt;a href="%s" class="replay"&gt;&amp;#x2023;&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;'
;;
  var el = fragment(markup, test.speed, test.title, test.duration, url);
  self.addCodeToggle(el, test.body);
  appendToStack(el);
  updateStats();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.index" id="apidoc.module.mocha.index">module mocha.index</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.index.bdd" id="apidoc.element.mocha.index.bdd">
        function <span class="apidocSignatureSpan">mocha.index.</span>bdd
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bdd = function (suite) {
  var suites = [suite];

  suite.on('pre-require', function (context, file, mocha) {
    var common = require('./common')(suites, context, mocha);

    context.before = common.before;
    context.after = common.after;
    context.beforeEach = common.beforeEach;
    context.afterEach = common.afterEach;
    context.run = mocha.options.delay &amp;&amp; common.runWithSuite(suite);
<span class="apidocCodeCommentSpan">    /**
     * Describe a "suite" with the given `title`
     * and callback `fn` containing nested suites
     * and/or tests.
     */
</span>
    context.describe = context.context = function (title, fn) {
      return common.suite.create({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Pending describe.
     */

    context.xdescribe = context.xcontext = context.describe.skip = function (title, fn) {
      return common.suite.skip({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Exclusive suite.
     */

    context.describe.only = function (title, fn) {
      return common.suite.only({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Describe a specification or test-case
     * with the given `title` and callback `fn`
     * acting as a thunk.
     */

    context.it = context.specify = function (title, fn) {
      var suite = suites[0];
      if (suite.isPending()) {
        fn = null;
      }
      var test = new Test(title, fn);
      test.file = file;
      suite.addTest(test);
      return test;
    };

    /**
     * Exclusive test-case.
     */

    context.it.only = function (title, fn) {
      return common.test.only(mocha, context.it(title, fn));
    };

    /**
     * Pending test case.
     */

    context.xit = context.xspecify = context.it.skip = function (title) {
      context.it(title);
    };

    /**
     * Number of attempts to retry.
     */
    context.it.retries = function (n) {
      context.retries(n);
    };
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.index.exports" id="apidoc.element.mocha.index.exports">
        function <span class="apidocSignatureSpan">mocha.index.</span>exports
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exports = function (suite) {
  var suites = [suite];

  suite.on('require', visit);

  function visit (obj, file) {
    var suite;
    for (var key in obj) {
      if (typeof obj[key] === 'function') {
        var fn = obj[key];
        switch (key) {
          case 'before':
            suites[0].beforeAll(fn);
            break;
          case 'after':
            suites[0].afterAll(fn);
            break;
          case 'beforeEach':
            suites[0].beforeEach(fn);
            break;
          case 'afterEach':
            suites[0].afterEach(fn);
            break;
          default:
            var test = new Test(key, fn);
            test.file = file;
            suites[0].addTest(test);
        }
      } else {
        suite = Suite.create(suites[0], key);
        suites.unshift(suite);
        visit(obj[key], file);
        suites.shift();
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.index.qunit" id="apidoc.element.mocha.index.qunit">
        function <span class="apidocSignatureSpan">mocha.index.</span>qunit
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">qunit = function (suite) {
  var suites = [suite];

  suite.on('pre-require', function (context, file, mocha) {
    var common = require('./common')(suites, context, mocha);

    context.before = common.before;
    context.after = common.after;
    context.beforeEach = common.beforeEach;
    context.afterEach = common.afterEach;
    context.run = mocha.options.delay &amp;&amp; common.runWithSuite(suite);
<span class="apidocCodeCommentSpan">    /**
     * Describe a "suite" with the given `title`.
     */
</span>
    context.suite = function (title) {
      if (suites.length &gt; 1) {
        suites.shift();
      }
      return common.suite.create({
        title: title,
        file: file,
        fn: false
      });
    };

    /**
     * Exclusive Suite.
     */

    context.suite.only = function (title) {
      if (suites.length &gt; 1) {
        suites.shift();
      }
      return common.suite.only({
        title: title,
        file: file,
        fn: false
      });
    };

    /**
     * Describe a specification or test-case
     * with the given `title` and callback `fn`
     * acting as a thunk.
     */

    context.test = function (title, fn) {
      var test = new Test(title, fn);
      test.file = file;
      suites[0].addTest(test);
      return test;
    };

    /**
     * Exclusive test-case.
     */

    context.test.only = function (title, fn) {
      return common.test.only(mocha, context.test(title, fn));
    };

    context.test.skip = common.test.skip;
    context.test.retries = common.test.retries;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.index.tdd" id="apidoc.element.mocha.index.tdd">
        function <span class="apidocSignatureSpan">mocha.index.</span>tdd
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tdd = function (suite) {
  var suites = [suite];

  suite.on('pre-require', function (context, file, mocha) {
    var common = require('./common')(suites, context, mocha);

    context.setup = common.beforeEach;
    context.teardown = common.afterEach;
    context.suiteSetup = common.before;
    context.suiteTeardown = common.after;
    context.run = mocha.options.delay &amp;&amp; common.runWithSuite(suite);

<span class="apidocCodeCommentSpan">    /**
     * Describe a "suite" with the given `title` and callback `fn` containing
     * nested suites and/or tests.
     */
</span>    context.suite = function (title, fn) {
      return common.suite.create({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Pending suite.
     */
    context.suite.skip = function (title, fn) {
      return common.suite.skip({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Exclusive test-case.
     */
    context.suite.only = function (title, fn) {
      return common.suite.only({
        title: title,
        file: file,
        fn: fn
      });
    };

    /**
     * Describe a specification or test-case with the given `title` and
     * callback `fn` acting as a thunk.
     */
    context.test = function (title, fn) {
      var suite = suites[0];
      if (suite.isPending()) {
        fn = null;
      }
      var test = new Test(title, fn);
      test.file = file;
      suite.addTest(test);
      return test;
    };

    /**
     * Exclusive test-case.
     */

    context.test.only = function (title, fn) {
      return common.test.only(mocha, context.test(title, fn));
    };

    context.test.skip = common.test.skip;
    context.test.retries = common.test.retries;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.landing" id="apidoc.module.mocha.landing">module mocha.landing</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.landing.landing" id="apidoc.element.mocha.landing.landing">
        function <span class="apidocSignatureSpan">mocha.</span>landing
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Landing(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var total = runner.total;
  var stream = process.stdout;
  var plane = color('plane', 'âœˆ');
  var crashed = -1;
  var n = 0;

  function runway () {
    var buf = Array(width).join('-');
    return '  ' + color('runway', buf);
  }

  runner.on('start', function () {
    stream.write('\n\n\n  ');
    cursor.hide();
  });

  runner.on('test end', function (test) {
    // check if the plane crashed
    var col = crashed === -1 ? width * ++n / total | 0 : crashed;

    // show the crash
    if (test.state === 'failed') {
      plane = color('plane crash', 'âœˆ');
      crashed = col;
    }

    // render landing strip
    stream.write('\u001b[' + (width + 1) + 'D\u001b[2A');
    stream.write(runway());
    stream.write('\n  ');
    stream.write(color('runway', Array(col).join('â‹…')));
    stream.write(plane);
    stream.write(color('runway', Array(width - col).join('â‹…') + '\n'));
    stream.write(runway());
    stream.write('\u001b[0m');
  });

  runner.on('end', function () {
    cursor.show();
    console.log();
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.landing.super_" id="apidoc.element.mocha.landing.super_">
        function <span class="apidocSignatureSpan">mocha.landing.</span>super_
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.list" id="apidoc.module.mocha.list">module mocha.list</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.list.list" id="apidoc.element.mocha.list.list">
        function <span class="apidocSignatureSpan">mocha.</span>list
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function List(runner) {
  Base.call(this, runner);

  var self = this;
  var n = 0;

  runner.on('start', function () {
    console.log();
  });

  runner.on('test', function (test) {
    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));
  });

  runner.on('pending', function (test) {
    var fmt = color('checkmark', '  -') +
      color('pending', ' %s');
    console.log(fmt, test.fullTitle());
  });

  runner.on('pass', function (test) {
    var fmt = color('checkmark', '  ' + Base.symbols.ok) +
      color('pass', ' %s: ') +
      color(test.speed, '%dms');
    cursor.CR();
    console.log(fmt, test.fullTitle(), test.duration);
  });

  runner.on('fail', function (test) {
    cursor.CR();
    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());
  });

  runner.on('end', self.epilogue.bind(self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // failures
  if (stats.failures) {
    fmt = color('fail', '  %d failing');

    console.log(fmt, stats.failures);

    Base.<span class="apidocCodeKeywordSpan">list</span>(this.failures);
    console.log();
  }

  console.log();
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.list.super_" id="apidoc.element.mocha.list.super_">
        function <span class="apidocSignatureSpan">mocha.list.</span>super_
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.nyan" id="apidoc.module.mocha.nyan">module mocha.nyan</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.nyan.nyan" id="apidoc.element.mocha.nyan.nyan">
        function <span class="apidocSignatureSpan">mocha.</span>nyan
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NyanCat(runner) {
  Base.call(this, runner);

  var self = this;
  var width = Base.window.width * 0.75 | 0;
  var nyanCatWidth = this.nyanCatWidth = 11;

  this.colorIndex = 0;
  this.numberOfLines = 4;
  this.rainbowColors = self.generateColors();
  this.scoreboardWidth = 5;
  this.tick = 0;
  this.trajectories = [[], [], [], []];
  this.trajectoryWidthMax = (width - nyanCatWidth);

  runner.on('start', function () {
    Base.cursor.hide();
    self.draw();
  });

  runner.on('pending', function () {
    self.draw();
  });

  runner.on('pass', function () {
    self.draw();
  });

  runner.on('fail', function () {
    self.draw();
  });

  runner.on('end', function () {
    Base.cursor.show();
    for (var i = 0; i &lt; self.numberOfLines; i++) {
      write('\n');
    }
    self.epilogue();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.super_" id="apidoc.element.mocha.nyan.super_">
        function <span class="apidocSignatureSpan">mocha.nyan.</span>super_
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.nyan.prototype" id="apidoc.module.mocha.nyan.prototype">module mocha.nyan.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.appendRainbow" id="apidoc.element.mocha.nyan.prototype.appendRainbow">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>appendRainbow
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">appendRainbow = function () {
  var segment = this.tick ? '_' : '-';
  var rainbowified = this.rainbowify(segment);

  for (var index = 0; index &lt; this.numberOfLines; index++) {
    var trajectory = this.trajectories[index];
    if (trajectory.length &gt;= this.trajectoryWidthMax) {
      trajectory.shift();
    }
    trajectory.push(rainbowified);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Draw the nyan cat
 *
 * @api private
 */

NyanCat.prototype.draw = function () {
  this.<span class="apidocCodeKeywordSpan">appendRainbow</span>();
  this.drawScoreboard();
  this.drawRainbow();
  this.drawNyanCat();
  this.tick = !this.tick;
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.cursorDown" id="apidoc.element.mocha.nyan.prototype.cursorDown">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>cursorDown
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorDown = function (n) {
  write('\u001b[' + n + 'B');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.cursorUp" id="apidoc.element.mocha.nyan.prototype.cursorUp">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>cursorUp
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorUp = function (n) {
  write('\u001b[' + n + 'A');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 }

 draw('green', stats.passes);
 draw('fail', stats.failures);
 draw('pending', stats.pending);
 write('\n');

 this.<span class="apidocCodeKeywordSpan">cursorUp</span>(this.numberOfLines);
};

/**
* Append the rainbow.
*
* @api private
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.draw" id="apidoc.element.mocha.nyan.prototype.draw">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>draw
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">draw = function () {
  this.appendRainbow();
  this.drawScoreboard();
  this.drawRainbow();
  this.drawNyanCat();
  this.tick = !this.tick;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
  }

  function updateStats () {
// TODO: add to stats
var percent = stats.tests / runner.total * 100 | 0;
if (progress) {
  progress.update(percent).<span class="apidocCodeKeywordSpan">draw</span>(ctx);
}

// update stats
var ms = new Date() - stats.start;
text(passes, stats.passes);
text(failures, stats.failures);
text(duration, (ms / 1000).toFixed(2));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.drawNyanCat" id="apidoc.element.mocha.nyan.prototype.drawNyanCat">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawNyanCat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawNyanCat = function () {
  var self = this;
  var startWidth = this.scoreboardWidth + this.trajectories[0].length;
  var dist = '\u001b[' + startWidth + 'C';
  var padding = '';

  write(dist);
  write('_,------,');
  write('\n');

  write(dist);
  padding = self.tick ? '  ' : '   ';
  write('_|' + padding + '/\\_/\\ ');
  write('\n');

  write(dist);
  padding = self.tick ? '_' : '__';
  var tail = self.tick ? '~' : '^';
  write(tail + '|' + padding + this.face() + ' ');
  write('\n');

  write(dist);
  padding = self.tick ? ' ' : '  ';
  write(padding + '""  "" ');
  write('\n');

  this.cursorUp(this.numberOfLines);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @api private
*/

NyanCat.prototype.draw = function () {
 this.appendRainbow();
 this.drawScoreboard();
 this.drawRainbow();
 this.<span class="apidocCodeKeywordSpan">drawNyanCat</span>();
 this.tick = !this.tick;
};

/**
* Draw the "scoreboard" showing the number
* of passes, failures and pending tests.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.drawRainbow" id="apidoc.element.mocha.nyan.prototype.drawRainbow">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawRainbow
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawRainbow = function () {
  var self = this;

  this.trajectories.forEach(function (line) {
    write('\u001b[' + self.scoreboardWidth + 'C');
    write(line.join(''));
    write('\n');
  });

  this.cursorUp(this.numberOfLines);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
*/

NyanCat.prototype.draw = function () {
 this.appendRainbow();
 this.drawScoreboard();
 this.<span class="apidocCodeKeywordSpan">drawRainbow</span>();
 this.drawNyanCat();
 this.tick = !this.tick;
};

/**
* Draw the "scoreboard" showing the number
* of passes, failures and pending tests.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.drawScoreboard" id="apidoc.element.mocha.nyan.prototype.drawScoreboard">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>drawScoreboard
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drawScoreboard = function () {
  var stats = this.stats;

  function draw (type, n) {
    write(' ');
    write(Base.color(type, n));
    write('\n');
  }

  draw('green', stats.passes);
  draw('fail', stats.failures);
  draw('pending', stats.pending);
  write('\n');

  this.cursorUp(this.numberOfLines);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Draw the nyan cat
*
* @api private
*/

NyanCat.prototype.draw = function () {
 this.appendRainbow();
 this.<span class="apidocCodeKeywordSpan">drawScoreboard</span>();
 this.drawRainbow();
 this.drawNyanCat();
 this.tick = !this.tick;
};

/**
* Draw the "scoreboard" showing the number
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.face" id="apidoc.element.mocha.nyan.prototype.face">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>face
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">face = function () {
  var stats = this.stats;
  if (stats.failures) {
    return '( x .x)';
  } else if (stats.pending) {
    return '( o .o)';
  } else if (stats.passes) {
    return '( ^ .^)';
  }
  return '( - .-)';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
padding = self.tick ? '  ' : '   ';
write('_|' + padding + '/\\_/\\ ');
write('\n');

write(dist);
padding = self.tick ? '_' : '__';
var tail = self.tick ? '~' : '^';
write(tail + '|' + padding + this.<span class="apidocCodeKeywordSpan">face</span>() + ' ');
write('\n');

write(dist);
padding = self.tick ? ' ' : '  ';
write(padding + '""  "" ');
write('\n');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.generateColors" id="apidoc.element.mocha.nyan.prototype.generateColors">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>generateColors
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateColors = function () {
  var colors = [];

  for (var i = 0; i &lt; (6 * 7); i++) {
    var pi3 = Math.floor(Math.PI / 3);
    var n = (i * (1.0 / 6));
    var r = Math.floor(3 * Math.sin(n) + 3);
    var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);
    var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);
    colors.push(36 * r + 6 * g + b + 16);
  }

  return colors;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var self = this;
var width = Base.window.width * 0.75 | 0;
var nyanCatWidth = this.nyanCatWidth = 11;

this.colorIndex = 0;
this.numberOfLines = 4;
this.rainbowColors = self.<span class="apidocCodeKeywordSpan">generateColors</span>();
this.scoreboardWidth = 5;
this.tick = 0;
this.trajectories = [[], [], [], []];
this.trajectoryWidthMax = (width - nyanCatWidth);

runner.on('start', function () {
  Base.cursor.hide();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.nyan.prototype.rainbowify" id="apidoc.element.mocha.nyan.prototype.rainbowify">
        function <span class="apidocSignatureSpan">mocha.nyan.prototype.</span>rainbowify
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rainbowify = function (str) {
  if (!Base.useColors) {
    return str;
  }
  var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];
  this.colorIndex += 1;
  return '\u001b[38;5;' + color + 'm' + str + '\u001b[0m';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Append the rainbow.
 *
 * @api private
 */

NyanCat.prototype.appendRainbow = function () {
var segment = this.tick ? '_' : '-';
var rainbowified = this.<span class="apidocCodeKeywordSpan">rainbowify</span>(segment);

for (var index = 0; index &lt; this.numberOfLines; index++) {
  var trajectory = this.trajectories[index];
  if (trajectory.length &gt;= this.trajectoryWidthMax) {
    trajectory.shift();
  }
  trajectory.push(rainbowified);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.progress" id="apidoc.module.mocha.progress">module mocha.progress</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.progress.progress" id="apidoc.element.mocha.progress.progress">
        function <span class="apidocSignatureSpan">mocha.</span>progress
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Progress() {
  this.percent = 0;
  this.size(0);
  this.fontSize(11);
  this.font('helvetica, arial, sans-serif');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.progress.prototype" id="apidoc.module.mocha.progress.prototype">module mocha.progress.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.draw" id="apidoc.element.mocha.progress.prototype.draw">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>draw
        <span class="apidocSignatureSpan">(ctx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">draw = function (ctx) {
  try {
    var percent = Math.min(this.percent, 100);
    var size = this._size;
    var half = size / 2;
    var x = half;
    var y = half;
    var rad = half - 1;
    var fontSize = this._fontSize;

    ctx.font = fontSize + 'px ' + this._font;

    var angle = Math.PI * 2 * (percent / 100);
    ctx.clearRect(0, 0, size, size);

    // outer circle
    ctx.strokeStyle = '#9f9f9f';
    ctx.beginPath();
    ctx.arc(x, y, rad, 0, angle, false);
    ctx.stroke();

    // inner circle
    ctx.strokeStyle = '#eee';
    ctx.beginPath();
    ctx.arc(x, y, rad - 1, 0, angle, true);
    ctx.stroke();

    // text
    var text = this._text || (percent | 0) + '%';
    var w = ctx.measureText(text).width;

    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);
  } catch (err) {
    // don't fail if we can't render progress
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
  }

  function updateStats () {
// TODO: add to stats
var percent = stats.tests / runner.total * 100 | 0;
if (progress) {
  progress.update(percent).<span class="apidocCodeKeywordSpan">draw</span>(ctx);
}

// update stats
var ms = new Date() - stats.start;
text(passes, stats.passes);
text(failures, stats.failures);
text(duration, (ms / 1000).toFixed(2));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.font" id="apidoc.element.mocha.progress.prototype.font">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>font
        <span class="apidocSignatureSpan">(family)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">font = function (family) {
  this._font = family;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Initialize a new `Progress` indicator.
*/
function Progress () {
 this.percent = 0;
 this.size(0);
 this.fontSize(11);
 this.<span class="apidocCodeKeywordSpan">font</span>('helvetica, arial, sans-serif');
}

/**
* Set progress size to `size`.
*
* @api public
* @param {number} size
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.fontSize" id="apidoc.element.mocha.progress.prototype.fontSize">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>fontSize
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fontSize = function (size) {
  this._fontSize = size;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
* Initialize a new `Progress` indicator.
*/
function Progress () {
 this.percent = 0;
 this.size(0);
 this.<span class="apidocCodeKeywordSpan">fontSize</span>(11);
 this.font('helvetica, arial, sans-serif');
}

/**
* Set progress size to `size`.
*
* @api public
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.size" id="apidoc.element.mocha.progress.prototype.size">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>size
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">size = function (size) {
  this._size = size;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = Progress;

/**
* Initialize a new `Progress` indicator.
*/
function Progress () {
 this.percent = 0;
 this.<span class="apidocCodeKeywordSpan">size</span>(0);
 this.fontSize(11);
 this.font('helvetica, arial, sans-serif');
}

/**
* Set progress size to `size`.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.text" id="apidoc.element.mocha.progress.prototype.text">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>text
        <span class="apidocSignatureSpan">(text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (text) {
  this._text = text;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.progress.prototype.update" id="apidoc.element.mocha.progress.prototype.update">
        function <span class="apidocSignatureSpan">mocha.progress.prototype.</span>update
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (n) {
  this.percent = n;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
  }

  function updateStats () {
// TODO: add to stats
var percent = stats.tests / runner.total * 100 | 0;
if (progress) {
  progress.<span class="apidocCodeKeywordSpan">update</span>(percent).draw(ctx);
}

// update stats
var ms = new Date() - stats.start;
text(passes, stats.passes);
text(failures, stats.failures);
text(duration, (ms / 1000).toFixed(2));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.runnable" id="apidoc.module.mocha.runnable">module mocha.runnable</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.runnable.runnable" id="apidoc.element.mocha.runnable.runnable">
        function <span class="apidocSignatureSpan">mocha.</span>runnable
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runnable(title, fn) {
  this.title = title;
  this.fn = fn;
  this.body = (fn || '').toString();
  this.async = fn &amp;&amp; fn.length;
  this.sync = !this.async;
  this._timeout = 2000;
  this._slow = 75;
  this._enableTimeouts = true;
  this.timedOut = false;
  this._trace = new Error('done() called multiple times');
  this._retries = -1;
  this._currentRetry = 0;
  this.pending = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} ms
* @return {Context} self
*/
Context.prototype.timeout = function (ms) {
 if (!arguments.length) {
   return this.<span class="apidocCodeKeywordSpan">runnable</span>().timeout();
 }
 this.runnable().timeout(ms);
 return this;
};

/**
* Set test timeout `enabled`.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.runnable.prototype" id="apidoc.module.mocha.runnable.prototype">module mocha.runnable.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.clearTimeout" id="apidoc.element.mocha.runnable.prototype.clearTimeout">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>clearTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearTimeout = function () {
  clearTimeout(this.timer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Runnable.prototype.resetTimeout = function () {
var self = this;
var ms = this.timeout() || 1e9;

if (!this._enableTimeouts) {
  return;
}
this.<span class="apidocCodeKeywordSpan">clearTimeout</span>();
this.timer = setTimeout(function () {
  if (!self._enableTimeouts) {
    return;
  }
  self.callback(new Error('Timeout of ' + ms +
    'ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves
.'));
  self.timedOut = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.constructor" id="apidoc.element.mocha.runnable.prototype.constructor">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>constructor
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runnable(title, fn) {
  this.title = title;
  this.fn = fn;
  this.body = (fn || '').toString();
  this.async = fn &amp;&amp; fn.length;
  this.sync = !this.async;
  this._timeout = 2000;
  this._slow = 75;
  this._enableTimeouts = true;
  this.timedOut = false;
  this._trace = new Error('done() called multiple times');
  this._retries = -1;
  this._currentRetry = 0;
  this.pending = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.currentRetry" id="apidoc.element.mocha.runnable.prototype.currentRetry">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>currentRetry
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">currentRetry = function (n) {
  if (!arguments.length) {
    return this._currentRetry;
  }
  this._currentRetry = n;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @return {Object}
 */
function clean (test) {
  return {
    title: test.title,
    fullTitle: test.fullTitle(),
    duration: test.duration,
    currentRetry: test.<span class="apidocCodeKeywordSpan">currentRetry</span>()
  };
}

}).call(this,require('_process'))
},{"./base":17,"_process":67,"json3":54}],23:[function(require,module,exports){
(function (process){
'use strict';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.enableTimeouts" id="apidoc.element.mocha.runnable.prototype.enableTimeouts">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>enableTimeouts
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableTimeouts = function (enabled) {
  if (!arguments.length) {
    return this._enableTimeouts;
  }
  debug('enableTimeouts %s', enabled);
  this._enableTimeouts = enabled;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Set test timeout `enabled`.
*
* @api private
* @param {boolean} enabled
* @return {Context} self
*/
Context.prototype.enableTimeouts = function (enabled) {
 this.runnable().<span class="apidocCodeKeywordSpan">enableTimeouts</span>(enabled);
 return this;
};

/**
* Set test slowness threshold `ms`.
*
* @api private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.fullTitle" id="apidoc.element.mocha.runnable.prototype.fullTitle">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>fullTitle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fullTitle = function () {
  return this.parent.fullTitle() + ' ' + this.title;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      suite.parent._onlySuites = suite.parent._onlySuites.concat(suite);
      mocha.options.hasOnly = true;
    }
    if (typeof opts.fn === 'function') {
      opts.fn.call(suite);
      suites.shift();
    } else if (typeof opts.fn === 'undefined' &amp;&amp; !suite.pending) {
      throw new Error('Suite "' + suite.<span class="apidocCodeKeywordSpan">fullTitle</span>() + '" was
 defined but no callback was supplied. Supply a callback or explicitly skip the suite.');
    }

    return suite;
  }
},

test: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.globals" id="apidoc.element.mocha.runnable.prototype.globals">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>globals
        <span class="apidocSignatureSpan">(globals)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globals = function (globals) {
  if (!arguments.length) {
    return this._allowedGlobals;
  }
  this._allowedGlobals = globals;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Run mocha, returning the Runner.
 */

mocha.run = function (fn) {
var options = mocha.options;
mocha.<span class="apidocCodeKeywordSpan">globals</span>('location');

var query = Mocha.utils.parseQuery(global.location.search || '');
if (query.grep) {
  mocha.grep(query.grep);
}
if (query.fgrep) {
  mocha.fgrep(query.fgrep);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.inspect" id="apidoc.element.mocha.runnable.prototype.inspect">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
  return JSON.stringify(this, function (key, val) {
    if (key[0] === '_') {
      return;
    }
    if (key === 'parent') {
      return '#&lt;Suite&gt;';
    }
    if (key === 'ctx') {
      return '#&lt;Context&gt;';
    }
    return val;
  }, 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// msg
var msg;
var err = test.err;
var message;
if (err.message &amp;&amp; typeof err.message.toString === 'function') {
  message = err.message + '';
} else if (typeof err.inspect === 'function') {
  message = err.<span class="apidocCodeKeywordSpan">inspect</span>() + '';
} else {
  message = '';
}
var stack = err.stack || message;
var index = message ? stack.indexOf(message) : -1;
var actual = err.actual;
var expected = err.expected;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.isPending" id="apidoc.element.mocha.runnable.prototype.isPending">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPending = function () {
  return this.pending || (this.parent &amp;&amp; this.parent.isPending());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Describe a specification or test-case
 * with the given `title` and callback `fn`
 * acting as a thunk.
 */

context.it = context.specify = function (title, fn) {
  var suite = suites[0];
  if (suite.<span class="apidocCodeKeywordSpan">isPending</span>()) {
    fn = null;
  }
  var test = new Test(title, fn);
  test.file = file;
  suite.addTest(test);
  return test;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.resetTimeout" id="apidoc.element.mocha.runnable.prototype.resetTimeout">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>resetTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetTimeout = function () {
  var self = this;
  var ms = this.timeout() || 1e9;

  if (!this._enableTimeouts) {
    return;
  }
  this.clearTimeout();
  this.timer = setTimeout(function () {
    if (!self._enableTimeouts) {
      return;
    }
    self.callback(new Error('Timeout of ' + ms +
      'ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves.'));
    self.timedOut = true;
  }, ms);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 }
 if (typeof ms === 'string') {
   ms = milliseconds(ms);
 }
 debug('timeout %d', ms);
 this._timeout = ms;
 if (this.timer) {
   this.<span class="apidocCodeKeywordSpan">resetTimeout</span>();
 }
 return this;
};

/**
* Set &amp; get slow `ms`.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.retries" id="apidoc.element.mocha.runnable.prototype.retries">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>retries
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retries = function (n) {
  if (!arguments.length) {
    return this._retries;
  }
  this._retries = n;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} n
* @return {Context} self
*/
Context.prototype.retries = function (n) {
 if (!arguments.length) {
   return this.runnable().<span class="apidocCodeKeywordSpan">retries</span>();
 }
 this.runnable().retries(n);
 return this;
};

/**
* Inspect the context void of `._runnable`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.run" id="apidoc.element.mocha.runnable.prototype.run">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>run
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (fn) {
  var self = this;
  var start = new Date();
  var ctx = this.ctx;
  var finished;
  var emitted;

  // Sometimes the ctx exists, but it is not runnable
  if (ctx &amp;&amp; ctx.runnable) {
    ctx.runnable(this);
  }

  // called multiple times
  function multiple (err) {
    if (emitted) {
      return;
    }
    emitted = true;
    self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));
  }

  // finished
  function done (err) {
    var ms = self.timeout();
    if (self.timedOut) {
      return;
    }
    if (finished) {
      return multiple(err || self._trace);
    }

    self.clearTimeout();
    self.duration = new Date() - start;
    finished = true;
    if (!err &amp;&amp; self.duration &gt; ms &amp;&amp; self._enableTimeouts) {
      err = new Error('Timeout of ' + ms +
      'ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves.');
    }
    fn(err);
  }

  // for .resetTimeout()
  this.callback = done;

  // explicit async with `done` argument
  if (this.async) {
    this.resetTimeout();

    // allows skip() to be used in an explicit async context
    this.skip = function asyncSkip () {
      done(new Pending('async skip call'));
      // halt execution.  the Runnable will be marked pending
      // by the previous call, and the uncaught handler will ignore
      // the failure.
      throw new Pending('async skip; aborting execution');
    };

    if (this.allowUncaught) {
      return callFnAsync(this.fn);
    }
    try {
      callFnAsync(this.fn);
    } catch (err) {
      emitted = true;
      done(utils.getError(err));
    }
    return;
  }

  if (this.allowUncaught) {
    callFn(this.fn);
    done();
    return;
  }

  // sync or promise-returning
  try {
    if (this.isPending()) {
      done();
    } else {
      callFn(this.fn);
    }
  } catch (err) {
    emitted = true;
    done(utils.getError(err));
  }

  function callFn (fn) {
    var result = fn.call(ctx);
    if (result &amp;&amp; typeof result.then === 'function') {
      self.resetTimeout();
      result
        .then(function () {
          done();
          // Return null so libraries like bluebird do not warn about
          // subsequently constructed Promises.
          return null;
        },
        function (reason) {
          done(reason || new Error('Promise rejected with no or falsy reason'));
        });
    } else {
      if (self.asyncOnly) {
        return done(new Error('--async-only option in use without declaring `done()` or returning a promise'));
      }

      done();
    }
  }

  function callFnAsync (fn) {
    var result = fn.call(ctx, function (err) {
      if (err instanceof Error || toString.call(err) === '[object Error]') {
        return done(err);
      }
      if (err) {
        if (Object.prototype.toString.call(err) === '[object Object]') {
          return done(new Error('done() invoked with non-Error: ' +
            JSON.stringify(err)));
        }
        return done(new Error('done() invoked with non-Error: ' + err));
      }
      if (result &amp;&amp; utils.isPromise(result)) {
        return done(new Error('Resolution method is overspecified. Specify a callback *or* return a Promise; not both.'));
      }

      done();
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* small fix: commander option for --expose-gc
* Ignore asynchronous errors after global failure
* Improve error output when a test fails with a non-error
* updated travis badge, uses svg instead of img
* Allow skip from test context for #332
* [JSHINT] Unnecessary semicolon fixed in bin/_mocha
* Added a reminder about the done() callback to test timeout error messages
* fixes #1496, in Mocha.<span class="apidocCodeKeywordSpan">run</span>(fn), check if fn exists before executing it, added tests
too
* Add Harmony Proxy flag for iojs
* test(utils|ms|*): test existing units
* add support for some iojs flags
* fix(utils.stringify): issue #1229, diff viewer
* Remove slack link
* Prevent multiple 'grep=' querystring params in html reporter
* Use grep as regexp (close #1381)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.skip" id="apidoc.element.mocha.runnable.prototype.skip">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>skip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function () {
  throw new Pending('sync skip');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2357]: Support `--inspect` on command-line ([@simov])
- [#2194]: Human-friendly error if no files are matched on command-line ([@Munter])
- [#1744]: Human-friendly error if a Suite has no callback (BDD/TDD only) ([@anton])

## :bug: Bug Fix

- [#2488]: Fix case in which *variables beginning with lowercase "D"* may not have been reported properly as global leaks
 ([@JustATrick]) :laughing:
- [#2465]: Always halt execution in async function when `this.<span class="apidocCodeKeywordSpan">skip</span>()` is called ([@boneskull
])
- [#2445]: Exits with expected code 130 when `SIGINT` encountered; exit code can no longer rollover at 256 ([@Munter])
- [#2315]: Fix uncaught TypeError thrown from callback stack ([@1999])
- Fix broken `only()`/`skip()` in IE7/IE8 ([@boneskull])
- [#2502]: Fix broken stack trace filter on Node.js under Windows ([@boneskull])
- [#2496]: Fix diff output for objects instantiated with `String` constructor ([more](https://youtrack.jetbrains.com/issue/WEB-23383
)) ([@boneskull])

[#2496]: https://github.com/mochajs/mocha/issues/2496
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.slow" id="apidoc.element.mocha.runnable.prototype.slow">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>slow
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slow = function (ms) {
  if (typeof ms === 'undefined') {
    return this._slow;
  }
  if (typeof ms === 'string') {
    ms = milliseconds(ms);
  }
  debug('timeout %d', ms);
  this._slow = ms;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2259]: Restore ES3 compatibility.  Specifically, support an environment lacking `Date.prototype.toISOString()`, `JSON`, or has
 a non-standard implementation of `JSON`. ([@ndhoule], [@boneskull])
- [#2286]: Fix `after()` failing to execute if test skipped using `this.skip()` in `beforeEach()`; no longer marks the entire suite
 as "pending". ([@dasilvacontin], [@boneskull])
- [#2208]: Fix function name display in `markdown` and `html` (browser) reporters. ([@ScottFreeCode])
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.<span class="apidocCodeKeywordSpan">slow</span>()` without a value would blast any
previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.timeout()` with very large values ([@callumacrae], [@boneskull
])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runnable.prototype.timeout" id="apidoc.element.mocha.runnable.prototype.timeout">
        function <span class="apidocSignatureSpan">mocha.runnable.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms) {
  if (!arguments.length) {
    return this._timeout;
  }
  // see #1652 for reasoning
  if (ms === 0 || ms &gt; Math.pow(2, 31)) {
    this._enableTimeouts = false;
  }
  if (typeof ms === 'string') {
    ms = milliseconds(ms);
  }
  debug('timeout %d', ms);
  this._timeout = ms;
  if (this.timer) {
    this.resetTimeout();
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.slow()` without a value would blast any previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.<span class="apidocCodeKeywordSpan">timeout</span>()` with very
 large values ([@callumacrae], [@boneskull])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])

## :nut_and_bolt: Other

- Upgrade production dependencies to address security advisories (and because now we can): `glob`, `commander`, `escape-string-regexp
`,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.runner" id="apidoc.module.mocha.runner">module mocha.runner</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.runner.runner" id="apidoc.element.mocha.runner.runner">
        function <span class="apidocSignatureSpan">mocha.</span>runner
        <span class="apidocSignatureSpan">(suite, delay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Runner(suite, delay) {
  var self = this;
  this._globals = [];
  this._abort = false;
  this._delay = delay;
  this.suite = suite;
  this.started = false;
  this.total = suite.total();
  this.failures = 0;
  this.on('test end', function (test) {
    self.checkGlobals(test);
  });
  this.on('hook end', function (hook) {
    self.checkGlobals(hook);
  });
  this._defaultGrep = /.*/;
  this.grep(this._defaultGrep);
  this.globals(this.globalProps().concat(extraGlobals()));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.immediately" id="apidoc.element.mocha.runner.immediately">
        function <span class="apidocSignatureSpan">mocha.runner.</span>immediately
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">immediately = function () {
<span class="apidocCodeCommentSpan">/*
 * this function will do nothing
 */
</span>    return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
     }
     self.emit('hook end', hook);
     delete hook.ctx.currentTest;
     next(++i);
   });
 }

 Runner.<span class="apidocCodeKeywordSpan">immediately</span>(function () {
   next(0);
 });
};

/**
* Run hook `name` for the given array of `suites`
* in order, and callback `fn(err, errSuite)`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.super_" id="apidoc.element.mocha.runner.super_">
        function <span class="apidocSignatureSpan">mocha.runner.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.runner.prototype" id="apidoc.module.mocha.runner.prototype">module mocha.runner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.abort" id="apidoc.element.mocha.runner.prototype.abort">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">abort = function () {
  debug('aborting');
  this._abort = true;

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      process.exit(code);
    }
  });
});

// terminate children.
process.on('SIGINT', function () {
  proc.kill('SIGINT'); // calls runner.<span class="apidocCodeKeywordSpan">abort</span>()
  proc.kill('SIGTERM'); // if that didn't work, we're probably in an infinite loop, so make it die.
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.checkGlobals" id="apidoc.element.mocha.runner.prototype.checkGlobals">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>checkGlobals
        <span class="apidocSignatureSpan">(test)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkGlobals = function (test) {
  if (this.ignoreLeaks) {
    return;
  }
  var ok = this._globals;

  var globals = this.globalProps();
  var leaks;

  if (test) {
    ok = ok.concat(test._allowedGlobals || []);
  }

  if (this.prevGlobalsLength === globals.length) {
    return;
  }
  this.prevGlobalsLength = globals.length;

  leaks = filterLeaks(ok, globals);
  this._globals = this._globals.concat(leaks);

  if (leaks.length &gt; 1) {
    this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));
  } else if (leaks.length) {
    this.fail(test, new Error('global leak detected: ' + leaks[0]));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
1.5.0 / 2012-09-21
==================

  * add `ms()` to `.slow()` and `.timeout()`
  * add `Mocha#checkLeaks()` to re-enable global leak checks
  * add `this.slow()` option [aheckmann]
  * add tab, CR, LF to error diffs for now
  * add faster `.<span class="apidocCodeKeywordSpan">checkGlobals</span>()` solution [guille]
  * remove `fn.call()` from reduce util
  * remove `fn.call()` from filter util
  * fix forEach. Closes #582
  * fix relaying of signals [TooTallNate]
  * fix TAP reporter grep number

1.4.2 / 2012-09-01
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.fail" id="apidoc.element.mocha.runner.prototype.fail">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>fail
        <span class="apidocSignatureSpan">(test, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fail = function (test, err) {
  if (test.isPending()) {
    return;
  }

  ++this.failures;
  test.state = 'failed';

  if (!(err instanceof Error || err &amp;&amp; typeof err.message === 'string')) {
    err = new Error('the ' + type(err) + ' ' + stringify(err) + ' was thrown, throw an Error :)');
  }

  try {
    err.stack = (this.fullStackTrace || !err.stack)
      ? err.stack
      : stackFilter(err.stack);
  } catch (ignored) {
    // some environments do not take kindly to monkeying with the stack
  }

  this.emit('fail', test, err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 }
 this.prevGlobalsLength = globals.length;

 leaks = filterLeaks(ok, globals);
 this._globals = this._globals.concat(leaks);

 if (leaks.length &gt; 1) {
   this.<span class="apidocCodeKeywordSpan">fail</span>(test, new Error('global leaks detected: ' + leaks.join(', &amp;#
x27;) + ''));
 } else if (leaks.length) {
   this.fail(test, new Error('global leak detected: ' + leaks[0]));
 }
};

/**
* Fail the given `test`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.failHook" id="apidoc.element.mocha.runner.prototype.failHook">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>failHook
        <span class="apidocSignatureSpan">(hook, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failHook = function (hook, err) {
  if (hook.ctx &amp;&amp; hook.ctx.currentTest) {
    hook.originalTitle = hook.originalTitle || hook.title;
    hook.title = hook.originalTitle + ' for "' + hook.ctx.currentTest.title + '"';
  }

  this.fail(hook, err);
  if (this.suite.bail()) {
    this.emit('end');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

hook.ctx.currentTest = self.test;

self.emit('hook', hook);

if (!hook.listeners('error').length) {
  hook.on('error', function (err) {
    self.<span class="apidocCodeKeywordSpan">failHook</span>(hook, err);
  });
}

hook.run(function (err) {
  var testError = hook.error();
  if (testError) {
    self.fail(self.test, testError);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.globalProps" id="apidoc.element.mocha.runner.prototype.globalProps">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>globalProps
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globalProps = function () {
  var props = keys(global);

  // non-enumerables
  for (var i = 0; i &lt; globals.length; ++i) {
    if (~indexOf(props, globals[i])) {
      continue;
    }
    props.push(globals[i]);
  }

  return props;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   self.checkGlobals(test);
 });
 this.on('hook end', function (hook) {
   self.checkGlobals(hook);
 });
 this._defaultGrep = /.*/;
 this.grep(this._defaultGrep);
 this.globals(this.<span class="apidocCodeKeywordSpan">globalProps</span>().concat(extraGlobals()));
}

/**
* Wrapper for setImmediate, process.nextTick, or browser polyfill.
*
* @param {Function} fn
* @api private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.globals" id="apidoc.element.mocha.runner.prototype.globals">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>globals
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globals = function (arr) {
  if (!arguments.length) {
    return this._globals;
  }
  debug('globals %j', arr);
  this._globals = this._globals.concat(arr);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Run mocha, returning the Runner.
 */

mocha.run = function (fn) {
var options = mocha.options;
mocha.<span class="apidocCodeKeywordSpan">globals</span>('location');

var query = Mocha.utils.parseQuery(global.location.search || '');
if (query.grep) {
  mocha.grep(query.grep);
}
if (query.fgrep) {
  mocha.fgrep(query.fgrep);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.grep" id="apidoc.element.mocha.runner.prototype.grep">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>grep
        <span class="apidocSignatureSpan">(re, invert)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">grep = function (re, invert) {
  debug('grep %s', re);
  this._grep = re;
  this._invert = invert;
  this.total = this.grepTotal(this.suite);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

mocha.run = function (fn) {
var options = mocha.options;
mocha.globals('location');

var query = Mocha.utils.parseQuery(global.location.search || '');
if (query.grep) {
  mocha.<span class="apidocCodeKeywordSpan">grep</span>(query.grep);
}
if (query.fgrep) {
  mocha.fgrep(query.fgrep);
}
if (query.invert) {
  mocha.invert();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.grepTotal" id="apidoc.element.mocha.runner.prototype.grepTotal">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>grepTotal
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">grepTotal = function (suite) {
  var self = this;
  var total = 0;

  suite.eachTest(function (test) {
    var match = self._grep.test(test.fullTitle());
    if (self._invert) {
      match = !match;
    }
    if (match) {
      total++;
    }
  });

  return total;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Base.call(this, runner);

var n = 1;
var passes = 0;
var failures = 0;

runner.on('start', function () {
  var total = runner.<span class="apidocCodeKeywordSpan">grepTotal</span>(runner.suite);
  console.log('%d..%d', 1, total);
});

runner.on('test end', function () {
  ++n;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.hook" id="apidoc.element.mocha.runner.prototype.hook">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hook
        <span class="apidocSignatureSpan">(name, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hook = function (name, fn) {
  var suite = this.suite;
  var hooks = suite['_' + name];
  var self = this;

  function next (i) {
    var hook = hooks[i];
    if (!hook) {
      return fn();
    }
    self.currentRunnable = hook;

    hook.ctx.currentTest = self.test;

    self.emit('hook', hook);

    if (!hook.listeners('error').length) {
      hook.on('error', function (err) {
        self.failHook(hook, err);
      });
    }

    hook.run(function (err) {
      var testError = hook.error();
      if (testError) {
        self.fail(self.test, testError);
      }
      if (err) {
        if (err instanceof Pending) {
          if (name === 'beforeEach' || name === 'afterEach') {
            self.test.pending = true;
          } else {
            utils.forEach(suite.tests, function (test) {
              test.pending = true;
            });
            // a pending hook won't be executed twice.
            hook.pending = true;
          }
        } else {
          self.failHook(hook, err);

          // stop executing hooks, notify callee of hook err
          return fn(err);
        }
      }
      self.emit('hook end', hook);
      delete hook.ctx.currentTest;
      next(++i);
    });
  }

  Runner.immediately(function () {
    next(0);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    self.suite = suite;

    if (!suite) {
self.suite = orig;
return fn();
    }

    self.<span class="apidocCodeKeywordSpan">hook</span>(name, function (err) {
if (err) {
  var errSuite = self.suite;
  self.suite = orig;
  return fn(err, errSuite);
}

next(suites.pop());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.hookDown" id="apidoc.element.mocha.runner.prototype.hookDown">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hookDown
        <span class="apidocSignatureSpan">(name, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hookDown = function (name, fn) {
  var suites = [this.suite].concat(this.parents());
  this.hooks(name, suites, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  self.emit('pending', test);
  self.emit('test end', test);
  return next();
}

// execute test and hook(s)
self.emit('test', self.test = test);
self.<span class="apidocCodeKeywordSpan">hookDown</span>('beforeEach', function (err, errSuite) {
  if (test.isPending()) {
    self.emit('pending', test);
    self.emit('test end', test);
    return next();
  }
  if (err) {
    return hookErr(err, errSuite, false);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.hookUp" id="apidoc.element.mocha.runner.prototype.hookUp">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hookUp
        <span class="apidocSignatureSpan">(name, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hookUp = function (name, fn) {
  var suites = [this.suite].concat(this.parents()).reverse();
  this.hooks(name, suites, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// for failed 'after each' hook start from errSuite parent,
// otherwise start from errSuite itself
self.suite = after ? errSuite.parent : errSuite;

if (self.suite) {
  // call hookUp afterEach
  self.<span class="apidocCodeKeywordSpan">hookUp</span>('afterEach', function (err2, errSuite2) {
    self.suite = orig;
    // some hooks may fail even now
    if (err2) {
      return hookErr(err2, errSuite2, true);
    }
    // report error suite
    fn(errSuite);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.hooks" id="apidoc.element.mocha.runner.prototype.hooks">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>hooks
        <span class="apidocSignatureSpan">(name, suites, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hooks = function (name, suites, fn) {
  var self = this;
  var orig = this.suite;

  function next (suite) {
    self.suite = suite;

    if (!suite) {
      self.suite = orig;
      return fn();
    }

    self.hook(name, function (err) {
      if (err) {
        var errSuite = self.suite;
        self.suite = orig;
        return fn(err, errSuite);
      }

      next(suites.pop());
    });
  }

  next(suites.pop());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param {String} name
* @param {Function} fn
* @api private
*/
Runner.prototype.hookUp = function (name, fn) {
 var suites = [this.suite].concat(this.parents()).reverse();
 this.<span class="apidocCodeKeywordSpan">hooks</span>(name, suites, fn);
};

/**
* Run hooks from the bottom up.
*
* @param {String} name
* @param {Function} fn
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.parents" id="apidoc.element.mocha.runner.prototype.parents">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>parents
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parents = function () {
  var suite = this.suite;
  var suites = [];
  while (suite.parent) {
    suite = suite.parent;
    suites.push(suite);
  }
  return suites;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Run hooks from the top level down.
*
* @param {String} name
* @param {Function} fn
* @api private
*/
Runner.prototype.hookUp = function (name, fn) {
 var suites = [this.suite].concat(this.<span class="apidocCodeKeywordSpan">parents</span>()).reverse();
 this.hooks(name, suites, fn);
};

/**
* Run hooks from the bottom up.
*
* @param {String} name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.run" id="apidoc.element.mocha.runner.prototype.run">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>run
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (fn) {
  var self = this;
  var rootSuite = this.suite;

  // If there is an `only` filter
  if (this.hasOnly) {
    filterOnly(rootSuite);
  }

  fn = fn || function () {};

  function uncaught (err) {
    self.uncaught(err);
  }

  function start () {
    self.started = true;
    self.emit('start');
    self.runSuite(rootSuite, function () {
      debug('finished running');
      self.emit('end');
    });
  }

  debug('start');

  // references cleanup to avoid memory leaks
  this.on('suite end', cleanSuiteReferences);

  // callback
  this.on('end', function () {
    debug('end');
    process.removeListener('uncaughtException', uncaught);
    fn(self.failures);
  });

  // uncaught exception
  process.on('uncaughtException', uncaught);

  if (this._delay) {
    // for reporters, I guess.
    // might be nice to debounce some dots while we wait.
    this.emit('waiting', rootSuite);
    rootSuite.once('run', start);
  } else {
    start();
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* small fix: commander option for --expose-gc
* Ignore asynchronous errors after global failure
* Improve error output when a test fails with a non-error
* updated travis badge, uses svg instead of img
* Allow skip from test context for #332
* [JSHINT] Unnecessary semicolon fixed in bin/_mocha
* Added a reminder about the done() callback to test timeout error messages
* fixes #1496, in Mocha.<span class="apidocCodeKeywordSpan">run</span>(fn), check if fn exists before executing it, added tests
too
* Add Harmony Proxy flag for iojs
* test(utils|ms|*): test existing units
* add support for some iojs flags
* fix(utils.stringify): issue #1229, diff viewer
* Remove slack link
* Prevent multiple 'grep=' querystring params in html reporter
* Use grep as regexp (close #1381)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.runSuite" id="apidoc.element.mocha.runner.prototype.runSuite">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runSuite
        <span class="apidocSignatureSpan">(suite, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runSuite = function (suite, fn) {
  var i = 0;
  var self = this;
  var total = this.grepTotal(suite);
  var afterAllHookCalled = false;

  debug('run suite %s', suite.fullTitle());

  if (!total || (self.failures &amp;&amp; suite._bail)) {
    return fn();
  }

  this.emit('suite', this.suite = suite);

  function next (errSuite) {
    if (errSuite) {
      // current suite failed on a hook from errSuite
      if (errSuite === suite) {
        // if errSuite is current suite
        // continue to the next sibling suite
        return done();
      }
      // errSuite is among the parents of current suite
      // stop execution of errSuite and all sub-suites
      return done(errSuite);
    }

    if (self._abort) {
      return done();
    }

    var curr = suite.suites[i++];
    if (!curr) {
      return done();
    }

    // Avoid grep neglecting large number of tests causing a
    // huge recursive loop and thus a maximum call stack error.
    // See comment in `this.runTests()` for more information.
    if (self._grep !== self._defaultGrep) {
      Runner.immediately(function () {
        self.runSuite(curr, next);
      });
    } else {
      self.runSuite(curr, next);
    }
  }

  function done (errSuite) {
    self.suite = suite;
    self.nextSuite = next;

    if (afterAllHookCalled) {
      fn(errSuite);
    } else {
      // mark that the afterAll block has been called once
      // and so can be skipped if there is an error in it.
      afterAllHookCalled = true;

      // remove reference to test
      delete self.test;

      self.hook('afterAll', function () {
        self.emit('suite end', suite);
        fn(errSuite);
      });
    }
  }

  this.nextSuite = next;

  this.hook('beforeAll', function (err) {
    if (err) {
      return done();
    }
    self.runTests(suite, next);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  // Avoid grep neglecting large number of tests causing a
  // huge recursive loop and thus a maximum call stack error.
  // See comment in `this.runTests()` for more information.
  if (self._grep !== self._defaultGrep) {
    Runner.immediately(function () {
      self.<span class="apidocCodeKeywordSpan">runSuite</span>(curr, next);
    });
  } else {
    self.runSuite(curr, next);
  }
}

function done (errSuite) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.runTest" id="apidoc.element.mocha.runner.prototype.runTest">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runTest
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runTest = function (fn) {
  var self = this;
  var test = this.test;

  if (!test) {
    return;
  }
  if (this.asyncOnly) {
    test.asyncOnly = true;
  }

  if (this.allowUncaught) {
    test.allowUncaught = true;
    return test.run(fn);
  }
  try {
    test.on('error', function (err) {
      self.fail(test, err);
    });
    test.run(fn);
  } catch (err) {
    fn(err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  self.emit('test end', test);
  return next();
}
if (err) {
  return hookErr(err, errSuite, false);
}
self.currentRunnable = self.test;
self.<span class="apidocCodeKeywordSpan">runTest</span>(function (err) {
  test = self.test;
  if (err) {
    var retry = test.currentRetry();
    if (err instanceof Pending) {
      test.pending = true;
      self.emit('pending', test);
    } else if (retry &lt; test.retries()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.runTests" id="apidoc.element.mocha.runner.prototype.runTests">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>runTests
        <span class="apidocSignatureSpan">(suite, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runTests = function (suite, fn) {
  var self = this;
  var tests = suite.tests.slice();
  var test;

  function hookErr (_, errSuite, after) {
    // before/after Each hook for errSuite failed:
    var orig = self.suite;

    // for failed 'after each' hook start from errSuite parent,
    // otherwise start from errSuite itself
    self.suite = after ? errSuite.parent : errSuite;

    if (self.suite) {
      // call hookUp afterEach
      self.hookUp('afterEach', function (err2, errSuite2) {
        self.suite = orig;
        // some hooks may fail even now
        if (err2) {
          return hookErr(err2, errSuite2, true);
        }
        // report error suite
        fn(errSuite);
      });
    } else {
      // there is no need calling other 'after each' hooks
      self.suite = orig;
      fn(errSuite);
    }
  }

  function next (err, errSuite) {
    // if we bail after first err
    if (self.failures &amp;&amp; suite._bail) {
      return fn();
    }

    if (self._abort) {
      return fn();
    }

    if (err) {
      return hookErr(err, errSuite, true);
    }

    // next test
    test = tests.shift();

    // all done
    if (!test) {
      return fn();
    }

    // grep
    var match = self._grep.test(test.fullTitle());
    if (self._invert) {
      match = !match;
    }
    if (!match) {
      // Run immediately only if we have defined a grep. When we
      // define a grep â€” It can cause maximum callstack error if
      // the grep is doing a large recursive loop by neglecting
      // all tests. The run immediately function also comes with
      // a performance cost. So we don't want to run immediately
      // if we run the whole test suite, because running the whole
      // test suite don't do any immediate recursive loops. Thus,
      // allowing a JS runtime to breathe.
      if (self._grep !== self._defaultGrep) {
        Runner.immediately(next);
      } else {
        next();
      }
      return;
    }

    if (test.isPending()) {
      self.emit('pending', test);
      self.emit('test end', test);
      return next();
    }

    // execute test and hook(s)
    self.emit('test', self.test = test);
    self.hookDown('beforeEach', function (err, errSuite) {
      if (test.isPending()) {
        self.emit('pending', test);
        self.emit('test end', test);
        return next();
      }
      if (err) {
        return hookErr(err, errSuite, false);
      }
      self.currentRunnable = self.test;
      self.runTest(function (err) {
        test = self.test;
        if (err) {
          var retry = test.currentRetry();
          if (err instanceof Pending) {
            test.pending = true;
            self.emit('pending', test);
          } else if (retry &lt; test.retries()) {
            var clonedTest = test.clone();
            clonedTest.currentRetry(retry + 1);
            tests.unshift(clonedTest);

            // Early return + hook trigger so that it doesn't
            // increment the count wrong
            return self.hookUp('afterEach', next);
          } else {
            self.fail(test, err);
          }
          self.emit('test end', test);

          if (err instanceof Pending) {
            return next();
          }

          return self.hookUp('afterEach', next);
        }

        test.state = 'passed';
        self.emit('pass', test);
        self.emit('test end', test);
        self.hookUp('afterEach', next);
      });
    });
  }

  this.next = next;
  this.hookErr = hookErr;
  next();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var curr = suite.suites[i++];
if (!curr) {
  return done();
}

// Avoid grep neglecting large number of tests causing a
// huge recursive loop and thus a maximum call stack error.
// See comment in `this.<span class="apidocCodeKeywordSpan">runTests</span>()` for more information.
if (self._grep !== self._defaultGrep) {
  Runner.immediately(function () {
    self.runSuite(curr, next);
  });
} else {
  self.runSuite(curr, next);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.runner.prototype.uncaught" id="apidoc.element.mocha.runner.prototype.uncaught">
        function <span class="apidocSignatureSpan">mocha.runner.prototype.</span>uncaught
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uncaught = function (err) {
  if (err) {
    debug('uncaught exception %s', err === (function () {
      return this;
    }.call(err)) ? (err.message || err) : err);
  } else {
    debug('uncaught undefined exception');
    err = undefinedError();
  }
  err.uncaught = true;

  var runnable = this.currentRunnable;

  if (!runnable) {
    runnable = new Runnable('Uncaught error outside test suite');
    runnable.parent = this.suite;

    if (this.started) {
      this.fail(runnable, err);
    } else {
      // Can't recover from this failure
      this.emit('start');
      this.fail(runnable, err);
      this.emit('end');
    }

    return;
  }

  runnable.clearTimeout();

  // Ignore errors if complete or pending
  if (runnable.state || runnable.isPending()) {
    return;
  }
  this.fail(runnable, err);

  // recover from test
  if (runnable.type === 'test') {
    this.emit('test end', runnable);
    this.hookUp('afterEach', this.next);
    return;
  }

 // recover from hooks
  if (runnable.type === 'hook') {
    var errSuite = this.suite;
    // if hook failure is in afterEach block
    if (runnable.fullTitle().indexOf('after each') &gt; -1) {
      return this.hookErr(err, errSuite, true);
    }
    // if hook failure is in beforeEach block
    if (runnable.fullTitle().indexOf('before each') &gt; -1) {
      return this.hookErr(err, errSuite, false);
    }
    // if hook failure is in after or before blocks
    return this.nextSuite(errSuite);
  }

  // bail
  this.emit('end');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.hasOnly) {
  filterOnly(rootSuite);
}

fn = fn || function () {};

function uncaught (err) {
  self.<span class="apidocCodeKeywordSpan">uncaught</span>(err);
}

function start () {
  self.started = true;
  self.emit('start');
  self.runSuite(rootSuite, function () {
    debug('finished running');
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.suite" id="apidoc.module.mocha.suite">module mocha.suite</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.suite.suite" id="apidoc.element.mocha.suite.suite">
        function <span class="apidocSignatureSpan">mocha.</span>suite
        <span class="apidocSignatureSpan">(title, parentContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Suite(title, parentContext) {
  if (!utils.isString(title)) {
    throw new Error('Suite `title` should be a "string" but "' + typeof title + '" was given instead.');
  }
  this.title = title;
  function Context () {}
  Context.prototype = parentContext;
  this.ctx = new Context();
  this.suites = [];
  this.tests = [];
  this.pending = false;
  this._beforeEach = [];
  this._beforeAll = [];
  this._afterEach = [];
  this._afterAll = [];
  this.root = !title;
  this._timeout = 2000;
  this._enableTimeouts = true;
  this._slow = 75;
  this._bail = false;
  this._retries = -1;
  this._onlyTests = [];
  this._onlySuites = [];
  this.delayed = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.create" id="apidoc.element.mocha.suite.create">
        function <span class="apidocSignatureSpan">mocha.suite.</span>create
        <span class="apidocSignatureSpan">(parent, title)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (parent, title) {
  var suite = new Suite(title, parent.ctx);
  suite.parent = parent;
  title = suite.fullTitle();
  parent.addSuite(suite);
  return suite;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Describe a "suite" with the given `title`
 * and callback `fn` containing nested suites
 * and/or tests.
 */

context.describe = context.context = function (title, fn) {
  return common.suite.<span class="apidocCodeKeywordSpan">create</span>({
    title: title,
    file: file,
    fn: fn
  });
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.super_" id="apidoc.element.mocha.suite.super_">
        function <span class="apidocSignatureSpan">mocha.suite.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.suite.prototype" id="apidoc.module.mocha.suite.prototype">module mocha.suite.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.addSuite" id="apidoc.element.mocha.suite.prototype.addSuite">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>addSuite
        <span class="apidocSignatureSpan">(suite)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addSuite = function (suite) {
  suite.parent = this;
  suite.timeout(this.timeout());
  suite.retries(this.retries());
  suite.enableTimeouts(this.enableTimeouts());
  suite.slow(this.slow());
  suite.bail(this.bail());
  this.suites.push(suite);
  this.emit('suite', suite);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {string} title
* @return {Suite}
*/
exports.create = function (parent, title) {
 var suite = new Suite(title, parent.ctx);
 suite.parent = parent;
 title = suite.fullTitle();
 parent.<span class="apidocCodeKeywordSpan">addSuite</span>(suite);
 return suite;
};

/**
* Initialize a new `Suite` with the given `title` and `ctx`.
*
* @api private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.addTest" id="apidoc.element.mocha.suite.prototype.addTest">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>addTest
        <span class="apidocSignatureSpan">(test)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTest = function (test) {
  test.parent = this;
  test.timeout(this.timeout());
  test.retries(this.retries());
  test.enableTimeouts(this.enableTimeouts());
  test.slow(this.slow());
  test.ctx = this.ctx;
  this.tests.push(test);
  this.emit('test', test);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
context.it = context.specify = function (title, fn) {
  var suite = suites[0];
  if (suite.isPending()) {
    fn = null;
  }
  var test = new Test(title, fn);
  test.file = file;
  suite.<span class="apidocCodeKeywordSpan">addTest</span>(test);
  return test;
};

/**
 * Exclusive test-case.
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.afterAll" id="apidoc.element.mocha.suite.prototype.afterAll">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>afterAll
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterAll = function (title, fn) {
  if (this.isPending()) {
    return this;
  }
  if (typeof title === 'function') {
    fn = title;
    title = fn.name;
  }
  title = '"after all" hook' + (title ? ': ' + title : '');

  var hook = new Hook(title, fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.retries(this.retries());
  hook.enableTimeouts(this.enableTimeouts());
  hook.slow(this.slow());
  hook.ctx = this.ctx;
  this._afterAll.push(hook);
  this.emit('afterAll', hook);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Execute after running tests.
 *
 * @param {string} name
 * @param {Function} fn
 */
after: function (name, fn) {
  suites[0].<span class="apidocCodeKeywordSpan">afterAll</span>(name, fn);
},

/**
 * Execute before each test case.
 *
 * @param {string} name
 * @param {Function} fn
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.afterEach" id="apidoc.element.mocha.suite.prototype.afterEach">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>afterEach
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterEach = function (title, fn) {
  if (this.isPending()) {
    return this;
  }
  if (typeof title === 'function') {
    fn = title;
    title = fn.name;
  }
  title = '"after each" hook' + (title ? ': ' + title : '');

  var hook = new Hook(title, fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.retries(this.retries());
  hook.enableTimeouts(this.enableTimeouts());
  hook.slow(this.slow());
  hook.ctx = this.ctx;
  this._afterEach.push(hook);
  this.emit('afterEach', hook);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Execute after each test case.
 *
 * @param {string} name
 * @param {Function} fn
 */
afterEach: function (name, fn) {
  suites[0].<span class="apidocCodeKeywordSpan">afterEach</span>(name, fn);
},

suite: {
  /**
   * Create an exclusive Suite; convenience function
   * See docstring for create() below.
   *
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.bail" id="apidoc.element.mocha.suite.prototype.bail">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>bail
        <span class="apidocSignatureSpan">(bail)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bail = function (bail) {
  if (!arguments.length) {
    return this._bail;
  }
  debug('bail %s', bail);
  this._bail = bail;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* add `setImmediate` support for 0.10.x
* fix mocha -w spinner on windows

1.8.1 / 2013-01-09
==================

* fix .<span class="apidocCodeKeywordSpan">bail</span>() arity check causing it to default to true

1.8.0 / 2013-01-08
==================

* add Mocha() options bail support
* add `Mocha#bail()` method
* add instanceof check back for inheriting from Error
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.beforeAll" id="apidoc.element.mocha.suite.prototype.beforeAll">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>beforeAll
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeAll = function (title, fn) {
  if (this.isPending()) {
    return this;
  }
  if (typeof title === 'function') {
    fn = title;
    title = fn.name;
  }
  title = '"before all" hook' + (title ? ': ' + title : '');

  var hook = new Hook(title, fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.retries(this.retries());
  hook.enableTimeouts(this.enableTimeouts());
  hook.slow(this.slow());
  hook.ctx = this.ctx;
  this._beforeAll.push(hook);
  this.emit('beforeAll', hook);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Execute before running tests.
 *
 * @param {string} name
 * @param {Function} fn
 */
before: function (name, fn) {
  suites[0].<span class="apidocCodeKeywordSpan">beforeAll</span>(name, fn);
},

/**
 * Execute after running tests.
 *
 * @param {string} name
 * @param {Function} fn
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.beforeEach" id="apidoc.element.mocha.suite.prototype.beforeEach">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>beforeEach
        <span class="apidocSignatureSpan">(title, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeEach = function (title, fn) {
  if (this.isPending()) {
    return this;
  }
  if (typeof title === 'function') {
    fn = title;
    title = fn.name;
  }
  title = '"before each" hook' + (title ? ': ' + title : '');

  var hook = new Hook(title, fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.retries(this.retries());
  hook.enableTimeouts(this.enableTimeouts());
  hook.slow(this.slow());
  hook.ctx = this.ctx;
  this._beforeEach.push(hook);
  this.emit('beforeEach', hook);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Execute before each test case.
 *
 * @param {string} name
 * @param {Function} fn
 */
beforeEach: function (name, fn) {
  suites[0].<span class="apidocCodeKeywordSpan">beforeEach</span>(name, fn);
},

/**
 * Execute after each test case.
 *
 * @param {string} name
 * @param {Function} fn
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.clone" id="apidoc.element.mocha.suite.prototype.clone">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  var suite = new Suite(this.title);
  debug('clone');
  suite.ctx = this.ctx;
  suite.timeout(this.timeout());
  suite.retries(this.retries());
  suite.enableTimeouts(this.enableTimeouts());
  suite.slow(this.slow());
  suite.bail(this.bail());
  return suite;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        test = self.test;
        if (err) {
var retry = test.currentRetry();
if (err instanceof Pending) {
  test.pending = true;
  self.emit('pending', test);
} else if (retry &lt; test.retries()) {
  var clonedTest = test.<span class="apidocCodeKeywordSpan">clone</span>();
  clonedTest.currentRetry(retry + 1);
  tests.unshift(clonedTest);

  // Early return + hook trigger so that it doesn't
  // increment the count wrong
  return self.hookUp('afterEach', next);
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.eachTest" id="apidoc.element.mocha.suite.prototype.eachTest">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>eachTest
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eachTest = function (fn) {
  utils.forEach(this.tests, fn);
  utils.forEach(this.suites, function (suite) {
    suite.eachTest(fn);
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {Suite} suite
 * @return {number}
 */
Runner.prototype.grepTotal = function (suite) {
var self = this;
var total = 0;

suite.<span class="apidocCodeKeywordSpan">eachTest</span>(function (test) {
  var match = self._grep.test(test.fullTitle());
  if (self._invert) {
    match = !match;
  }
  if (match) {
    total++;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.enableTimeouts" id="apidoc.element.mocha.suite.prototype.enableTimeouts">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>enableTimeouts
        <span class="apidocSignatureSpan">(enabled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableTimeouts = function (enabled) {
  if (!arguments.length) {
    return this._enableTimeouts;
  }
  debug('enableTimeouts %s', enabled);
  this._enableTimeouts = enabled;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Set test timeout `enabled`.
*
* @api private
* @param {boolean} enabled
* @return {Context} self
*/
Context.prototype.enableTimeouts = function (enabled) {
 this.runnable().<span class="apidocCodeKeywordSpan">enableTimeouts</span>(enabled);
 return this;
};

/**
* Set test slowness threshold `ms`.
*
* @api private
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.fullTitle" id="apidoc.element.mocha.suite.prototype.fullTitle">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>fullTitle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fullTitle = function () {
  if (this.parent) {
    var full = this.parent.fullTitle();
    if (full) {
      return full + ' ' + this.title;
    }
  }
  return this.title;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      suite.parent._onlySuites = suite.parent._onlySuites.concat(suite);
      mocha.options.hasOnly = true;
    }
    if (typeof opts.fn === 'function') {
      opts.fn.call(suite);
      suites.shift();
    } else if (typeof opts.fn === 'undefined' &amp;&amp; !suite.pending) {
      throw new Error('Suite "' + suite.<span class="apidocCodeKeywordSpan">fullTitle</span>() + '" was
 defined but no callback was supplied. Supply a callback or explicitly skip the suite.');
    }

    return suite;
  }
},

test: {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.isPending" id="apidoc.element.mocha.suite.prototype.isPending">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPending = function () {
  return this.pending || (this.parent &amp;&amp; this.parent.isPending());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Describe a specification or test-case
 * with the given `title` and callback `fn`
 * acting as a thunk.
 */

context.it = context.specify = function (title, fn) {
  var suite = suites[0];
  if (suite.<span class="apidocCodeKeywordSpan">isPending</span>()) {
    fn = null;
  }
  var test = new Test(title, fn);
  test.file = file;
  suite.addTest(test);
  return test;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.retries" id="apidoc.element.mocha.suite.prototype.retries">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>retries
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retries = function (n) {
  if (!arguments.length) {
    return this._retries;
  }
  debug('retries %d', n);
  this._retries = parseInt(n, 10) || 0;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @api private
* @param {number} n
* @return {Context} self
*/
Context.prototype.retries = function (n) {
 if (!arguments.length) {
   return this.runnable().<span class="apidocCodeKeywordSpan">retries</span>();
 }
 this.runnable().retries(n);
 return this;
};

/**
* Inspect the context void of `._runnable`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.run" id="apidoc.element.mocha.suite.prototype.run">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() {
  if (this.root) {
    this.emit('run');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* small fix: commander option for --expose-gc
* Ignore asynchronous errors after global failure
* Improve error output when a test fails with a non-error
* updated travis badge, uses svg instead of img
* Allow skip from test context for #332
* [JSHINT] Unnecessary semicolon fixed in bin/_mocha
* Added a reminder about the done() callback to test timeout error messages
* fixes #1496, in Mocha.<span class="apidocCodeKeywordSpan">run</span>(fn), check if fn exists before executing it, added tests
too
* Add Harmony Proxy flag for iojs
* test(utils|ms|*): test existing units
* add support for some iojs flags
* fix(utils.stringify): issue #1229, diff viewer
* Remove slack link
* Prevent multiple 'grep=' querystring params in html reporter
* Use grep as regexp (close #1381)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.slow" id="apidoc.element.mocha.suite.prototype.slow">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>slow
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slow = function (ms) {
  if (!arguments.length) {
    return this._slow;
  }
  if (typeof ms === 'string') {
    ms = milliseconds(ms);
  }
  debug('slow %d', ms);
  this._slow = ms;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2259]: Restore ES3 compatibility.  Specifically, support an environment lacking `Date.prototype.toISOString()`, `JSON`, or has
 a non-standard implementation of `JSON`. ([@ndhoule], [@boneskull])
- [#2286]: Fix `after()` failing to execute if test skipped using `this.skip()` in `beforeEach()`; no longer marks the entire suite
 as "pending". ([@dasilvacontin], [@boneskull])
- [#2208]: Fix function name display in `markdown` and `html` (browser) reporters. ([@ScottFreeCode])
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.<span class="apidocCodeKeywordSpan">slow</span>()` without a value would blast any
previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.timeout()` with very large values ([@callumacrae], [@boneskull
])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.timeout" id="apidoc.element.mocha.suite.prototype.timeout">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms) {
  if (!arguments.length) {
    return this._timeout;
  }
  if (ms.toString() === '0') {
    this._enableTimeouts = false;
  }
  if (typeof ms === 'string') {
    ms = milliseconds(ms);
  }
  debug('timeout %d', ms);
  this._timeout = parseInt(ms, 10);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2299]: Fix progress bar in `html` (browser) reporter. ([@AviVahl])
- [#2307]: Fix `doc` reporter crashing when test fails. ([@jleyba])
- [#2323]: Ensure browser entry point (`browser-entry.js`) is published to npm (for use with bundlers).  ([@boneskull])
- [#2310]: Ensure custom reporter with an absolute path works in Windows. ([@silentcloud])
- [#2311]: Fix problem wherein calling `this.slow()` without a value would blast any previously set value. ([@boneskull])
- [#1813]: Ensure Mocha's own test suite will run in Windows. ([@tswaters], [@TimothyGu], [@boneskull])
- [#2317]: Ensure all interfaces are displayed in `--help` on CLI.  ([@ScottFreeCode])
- [#1644]: Don't exhibit undefined behavior when calling `this.<span class="apidocCodeKeywordSpan">timeout</span>()` with very
 large values ([@callumacrae], [@boneskull])
- [#2361]: Don't truncate name of thrown anonymous exception. ([@boneskull])
- [#2367]: Fix invalid CSS. ([@bensontrent])
- [#2401]: Remove carriage return before each test line in spec reporter. ([@Munter])

## :nut_and_bolt: Other

- Upgrade production dependencies to address security advisories (and because now we can): `glob`, `commander`, `escape-string-regexp
`,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.suite.prototype.total" id="apidoc.element.mocha.suite.prototype.total">
        function <span class="apidocSignatureSpan">mocha.suite.prototype.</span>total
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">total = function () {
  return utils.reduce(this.suites, function (sum, suite) {
    return sum + suite.total();
  }, 0) + this.tests.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function Runner (suite, delay) {
var self = this;
this._globals = [];
this._abort = false;
this._delay = delay;
this.suite = suite;
this.started = false;
this.total = suite.<span class="apidocCodeKeywordSpan">total</span>();
this.failures = 0;
this.on('test end', function (test) {
  self.checkGlobals(test);
});
this.on('hook end', function (hook) {
  self.checkGlobals(hook);
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.tty" id="apidoc.module.mocha.tty">module mocha.tty</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.tty.getWindowSize" id="apidoc.element.mocha.tty.getWindowSize">
        function <span class="apidocSignatureSpan">mocha.tty.</span>getWindowSize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getWindowSize() {
  if ('innerHeight' in global) {
    return [global.innerHeight, global.innerWidth];
  }
  // In a Web Worker, the DOM Window is not available.
  return [640, 480];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.window = {
 width: 75
};

if (isatty) {
 exports.window.width = process.stdout.getWindowSize
     ? process.stdout.<span class="apidocCodeKeywordSpan">getWindowSize</span>(1)[0]
     : tty.getWindowSize()[1];
}

/**
* Expose some basic cursor interactions that are common among reporters.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.tty.isatty" id="apidoc.element.mocha.tty.isatty">
        function <span class="apidocSignatureSpan">mocha.tty.</span>isatty
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isatty() {
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var clearInterval = global.clearInterval;
/* eslint-enable no-unused-vars, no-native-reassign */

/**
 * Check if both stdio streams are associated with a tty.
 */

var isatty = tty.<span class="apidocCodeKeywordSpan">isatty</span>(1) &amp;&amp; tty.isatty(2);

/**
 * Enable coloring by default, except in the browser interface.
 */

exports.useColors = !process.browser &amp;&amp; (supportsColor || (process.env.MOCHA_COLORS !== undefined));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.utils" id="apidoc.module.mocha.utils">module mocha.utils</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.utils.canonicalize" id="apidoc.element.mocha.utils.canonicalize">
        function <span class="apidocSignatureSpan">mocha.utils.</span>canonicalize
        <span class="apidocSignatureSpan">(value, stack, typeHint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function canonicalize(value, stack, typeHint) {
  var canonicalizedObj;
<span class="apidocCodeCommentSpan">  /* eslint-disable no-unused-vars */
</span>  var prop;
  /* eslint-enable no-unused-vars */
  typeHint = typeHint || type(value);
  function withStack (value, fn) {
    stack.push(value);
    fn();
    stack.pop();
  }

  stack = stack || [];

  if (indexOf(stack, value) !== -1) {
    return '[Circular]';
  }

  switch (typeHint) {
    case 'undefined':
    case 'buffer':
    case 'null':
      canonicalizedObj = value;
      break;
    case 'array':
      withStack(value, function () {
        canonicalizedObj = exports.map(value, function (item) {
          return exports.canonicalize(item, stack);
        });
      });
      break;
    case 'function':
      /* eslint-disable guard-for-in */
      for (prop in value) {
        canonicalizedObj = {};
        break;
      }
      /* eslint-enable guard-for-in */
      if (!canonicalizedObj) {
        canonicalizedObj = emptyRepresentation(value, typeHint);
        break;
      }
    /* falls through */
    case 'object':
      canonicalizedObj = canonicalizedObj || {};
      withStack(value, function () {
        exports.forEach(exports.keys(value).sort(), function (key) {
          canonicalizedObj[key] = exports.canonicalize(value[key], stack);
        });
      });
      break;
    case 'date':
    case 'number':
    case 'regexp':
    case 'boolean':
    case 'symbol':
      canonicalizedObj = value;
      break;
    default:
      canonicalizedObj = value + '';
  }

  return canonicalizedObj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      return jsonStringify(value);
    }
  }

  for (var prop in value) {
    if (Object.prototype.hasOwnProperty.call(value, prop)) {
      return jsonStringify(exports.<span class="apidocCodeKeywordSpan">canonicalize</span>(value, null, typeHint), 2).replace(/,(\n|$)/g, '$1');
    }
  }

  return emptyRepresentation(value, typeHint);
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.clean" id="apidoc.element.mocha.utils.clean">
        function <span class="apidocSignatureSpan">mocha.utils.</span>clean
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function (str) {
  str = str
    .replace(/\r\n?|[\n\u2028\u2029]/g, '\n').replace(/^\uFEFF/, '')
    // (traditional)-&gt;  space/name     parameters    body     (lambda)-&gt; parameters       body   multi-statement/single
keep body content
    .replace(/^function(?:\s*|\s+[^(]*)\([^)]*\)\s*\{((?:.|\n)*?)\s*\}$|^\([^)]*\)\s*=&gt;\s*(?:\{((?:.|\n)*?)\s*\}|((?:.|\n)*))$/, '$
1$2$3');

  var spaces = str.match(/^\n?( *)/)[1].length;
  var tabs = str.match(/^\n?(\t*)/)[1].length;
  var re = new RegExp('^\n?' + (tabs ? '\t' : ' ') + '{' + (tabs || spaces) + '}', 'gm');

  str = str.replace(re, '');

  return exports.trim(str);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* remove: --watch's spinner (#806)
* fix: duplicate test output for multi-line specs in spec reporter (#1006)
* fix: gracefully exit on SIGINT (#1063)
* fix expose the specified ui only in the browser (#984)
* fix: ensure process exit code is preserved when using --no-exit (#1059)
* fix: return true from window.onerror handler (#868)
* fix: xunit reporter to use process.stdout.write (#1068)
* fix: utils.<span class="apidocCodeKeywordSpan">clean</span>(str) indentation (#761)
* fix: xunit reporter returning test duration a NaN (#1039)

1.15.1 / 2013-12-03
==================

* fix: recompiled for missed changes from the last release
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.escape" id="apidoc.element.mocha.utils.escape">
        function <span class="apidocSignatureSpan">mocha.utils.</span>escape
        <span class="apidocSignatureSpan">(html)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escape = function (html) {
  return String(html)
    .replace(/&amp;/g, '&amp;amp;')
    .replace(/"/g, '&amp;quot;')
    .replace(/&lt;/g, '&amp;lt;')
    .replace(/&gt;/g, '&amp;gt;');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
runner.on('suite', function (suite) {
  if (suite.root) {
    return;
  }
  ++indents;
  console.log('%s&lt;section class="suite"&gt;', indent());
  ++indents;
  console.log('%s&lt;h1&gt;%s&lt;/h1&gt;', indent(), utils.<span class="apidocCodeKeywordSpan">escape</span>(suite
.title));
  console.log('%s&lt;dl&gt;', indent());
});

runner.on('suite end', function (suite) {
  if (suite.root) {
    return;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.files" id="apidoc.element.mocha.utils.files">
        function <span class="apidocSignatureSpan">mocha.utils.</span>files
        <span class="apidocSignatureSpan">(dir, ext, ret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">files = function (dir, ext, ret) {
  ret = ret || [];
  ext = ext || ['js'];

  var re = new RegExp('\\.(' + ext.join('|') + ')$');

  readdirSync(dir)
    .filter(ignored)
    .forEach(function (path) {
      path = join(dir, path);
      if (lstatSync(path).isDirectory()) {
        exports.files(path, ext, ret);
      } else if (path.match(re)) {
        ret.push(path);
      }
    });

  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var re = new RegExp('\\.(' + ext.join('|') + ')$');

  readdirSync(dir)
    .filter(ignored)
    .forEach(function (path) {
      path = join(dir, path);
      if (lstatSync(path).isDirectory()) {
        exports.<span class="apidocCodeKeywordSpan">files</span>(path, ext, ret);
      } else if (path.match(re)) {
        ret.push(path);
      }
    });

  return ret;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.filter" id="apidoc.element.mocha.utils.filter">
        function <span class="apidocSignatureSpan">mocha.utils.</span>filter
        <span class="apidocSignatureSpan">(arr, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (arr, fn) {
  var ret = [];

  for (var i = 0, l = arr.length; i &lt; l; i++) {
    var val = arr[i];
    if (fn(val, i, arr)) {
      ret.push(val);
    }
  }

  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 }
 var msg = diff.createPatch('string', err.actual, err.expected);
 var lines = msg.split('\n').splice(4);
 return '\n      ' +
   colorLines('diff added', '+ expected') + ' ' +
   colorLines('diff removed', '- actual') +
   '\n\n' +
   lines.map(cleanUp).<span class="apidocCodeKeywordSpan">filter</span>(notBlank).join('\n');
}

/**
* Return a character diff for `err`.
*
* @api private
* @param {Error} err
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.forEach" id="apidoc.element.mocha.utils.forEach">
        function <span class="apidocSignatureSpan">mocha.utils.</span>forEach
        <span class="apidocSignatureSpan">(arr, fn, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (arr, fn, scope) {
  for (var i = 0, l = arr.length; i &lt; l; i++) {
    fn.call(scope, arr[i], i);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
* Function to allow assertion libraries to throw errors directly into mocha.
* This is useful when running tests in a browser because window.onerror will
* only receive the 'message' attribute of the Error.
*/
mocha.throwError = function (err) {
 Mocha.utils.<span class="apidocCodeKeywordSpan">forEach</span>(uncaughtExceptionHandlers, function (fn) {
   fn(err);
 });
 throw err;
};

/**
* Override ui to ensure that the ui functions are initialized.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.getError" id="apidoc.element.mocha.utils.getError">
        function <span class="apidocSignatureSpan">mocha.utils.</span>getError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getError = function (err) {
  return err || exports.undefinedError();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.allowUncaught) {
    return callFnAsync(this.fn);
  }
  try {
    callFnAsync(this.fn);
  } catch (err) {
    emitted = true;
    done(utils.<span class="apidocCodeKeywordSpan">getError</span>(err));
  }
  return;
}

if (this.allowUncaught) {
  callFn(this.fn);
  done();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.highlightTags" id="apidoc.element.mocha.utils.highlightTags">
        function <span class="apidocSignatureSpan">mocha.utils.</span>highlightTags
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">highlightTags = function (name) {
  var code = document.getElementById('mocha').getElementsByTagName(name);
  for (var i = 0, len = code.length; i &lt; len; ++i) {
    code[i].innerHTML = highlight(code[i].innerHTML);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    mocha.invert();
  }

  return Mocha.prototype.run.call(mocha, function (err) {
    // The DOM Document is not available in Web Workers.
    var document = global.document;
    if (document &amp;&amp; document.getElementById('mocha') &amp;&amp; options.noHighlighting !== true) {
      Mocha.utils.<span class="apidocCodeKeywordSpan">highlightTags</span>('code');
    }
    if (fn) {
      fn(err);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.indexOf" id="apidoc.element.mocha.utils.indexOf">
        function <span class="apidocSignatureSpan">mocha.utils.</span>indexOf
        <span class="apidocSignatureSpan">(arr, obj, start)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexOf = function (arr, obj, start) {
  for (var i = start || 0, l = arr.length; i &lt; l; i++) {
    if (arr[i] === obj) {
      return i;
    }
  }
  return -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
process.removeListener = function (e, fn) {
  if (e === 'uncaughtException') {
    if (originalOnerrorHandler) {
      global.onerror = originalOnerrorHandler;
    } else {
      global.onerror = function () {};
    }
    var i = Mocha.utils.<span class="apidocCodeKeywordSpan">indexOf</span>(uncaughtExceptionHandlers, fn);
    if (i !== -1) {
      uncaughtExceptionHandlers.splice(i, 1);
    }
  }
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.inherits" id="apidoc.element.mocha.utils.inherits">
        function <span class="apidocSignatureSpan">mocha.utils.</span>inherits
        <span class="apidocSignatureSpan">(ctor, superCtor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inherits = function (ctor, superCtor) {

  if (ctor === undefined || ctor === null)
    throw new TypeError('The constructor to "inherits" must not be ' +
                        'null or undefined');

  if (superCtor === undefined || superCtor === null)
    throw new TypeError('The super constructor to "inherits" must not ' +
                        'be null or undefined');

  if (superCtor.prototype === undefined)
    throw new TypeError('The super constructor to "inherits" must ' +
                        'have a prototype');

  ctor.super_ = superCtor;
  Object.setPrototypeOf(ctor.prototype, superCtor.prototype);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.isArray" id="apidoc.element.mocha.utils.isArray">
        function <span class="apidocSignatureSpan">mocha.utils.</span>isArray
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isArray() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (Buffer.isBuffer(value)) {
  var out = new Buffer(value.length);
  value.copy(out, 0, 0, value.length);
  return out;
}
if (value) {
  if (Array.<span class="apidocCodeKeywordSpan">isArray</span>(value) || (typeof ArrayBuffer !== 'undefined' &amp;&amp;
; value.buffer instanceof ArrayBuffer) || 'length' in value) {
    return new Buffer(value);
  }
  if (value.type === 'Buffer' &amp;&amp; Array.isArray(value.data)) {
    return new Buffer(value.data);
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.isBuffer" id="apidoc.element.mocha.utils.isBuffer">
        function <span class="apidocSignatureSpan">mocha.utils.</span>isBuffer
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isBuffer = function (value) {
  return typeof Buffer !== 'undefined' &amp;&amp; Buffer.isBuffer(value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * type(new String('foo') // 'object'
 */
var type = exports.type = function type (value) {
  if (value === undefined) {
    return 'undefined';
  } else if (value === null) {
    return 'null';
  } else if (typeof Buffer !== 'undefined' &amp;&amp; Buffer.<span class="apidocCodeKeywordSpan">isBuffer</span>(value
)) {
    return 'buffer';
  }
  return Object.prototype.toString.call(value)
    .replace(/^\[.+\s(.+?)\]$/, '$1')
    .toLowerCase();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.isPromise" id="apidoc.element.mocha.utils.isPromise">
        function <span class="apidocSignatureSpan">mocha.utils.</span>isPromise
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPromise(value) {
  return typeof value === 'object' &amp;&amp; typeof value.then === 'function';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (err) {
        if (Object.prototype.toString.call(err) === '[object Object]') {
          return done(new Error('done() invoked with non-Error: ' +
            JSON.stringify(err)));
        }
        return done(new Error('done() invoked with non-Error: ' + err));
      }
      if (result &amp;&amp; utils.<span class="apidocCodeKeywordSpan">isPromise</span>(result)) {
        return done(new Error('Resolution method is overspecified. Specify a callback *or* return a Promise; not both.'
;));
      }

      done();
    });
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.isString" id="apidoc.element.mocha.utils.isString">
        function <span class="apidocSignatureSpan">mocha.utils.</span>isString
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isString = function (obj) {
  return typeof obj === 'string';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {RegExp|String} re
 * @return {Mocha}
 * @api public
 * @param {RegExp|string} re
 * @return {Mocha}
 */
Mocha.prototype.grep = function (re) {
if (utils.<span class="apidocCodeKeywordSpan">isString</span>(re)) {
  // extract args if it's regex-like, i.e: [string, pattern, flag]
  var arg = re.match(/^\/(.*)\/(g|i|)$|.*/);
  this.options.grep = new RegExp(arg[1] || arg[0], arg[2]);
} else {
  this.options.grep = re;
}
return this;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.keys" id="apidoc.element.mocha.utils.keys">
        function <span class="apidocSignatureSpan">mocha.utils.</span>keys
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function keys() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return _stringify(object);
}

depth = depth || 1;
var space = spaces * depth;
var str = isArray(object) ? '[' : '{';
var end = isArray(object) ? ']' : '}';
var length = typeof object.length === 'number' ? object.length : exports.<span class="apidocCodeKeywordSpan">keys</span>(object).length;
// `.repeat()` polyfill
function repeat (s, n) {
  return new Array(n).join(s);
}

function _stringify (val) {
  switch (type(val)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.lookupFiles" id="apidoc.element.mocha.utils.lookupFiles">
        function <span class="apidocSignatureSpan">mocha.utils.</span>lookupFiles
        <span class="apidocSignatureSpan">(path, extensions, recursive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lookupFiles(path, extensions, recursive) {
  var files = [];
  var re = new RegExp('\\.(' + extensions.join('|') + ')$');

  if (!exists(path)) {
    if (exists(path + '.js')) {
      path += '.js';
    } else {
      files = glob.sync(path);
      if (!files.length) {
        throw new Error("cannot resolve path (or pattern) '" + path + "'");
      }
      return files;
    }
  }

  try {
    var stat = statSync(path);
    if (stat.isFile()) {
      return path;
    }
  } catch (err) {
    // ignore error
    return;
  }

  readdirSync(path).forEach(function (file) {
    file = join(path, file);
    try {
      var stat = statSync(file);
      if (stat.isDirectory()) {
        if (recursive) {
          files = files.concat(lookupFiles(file, extensions, recursive));
        }
        return;
      }
    } catch (err) {
      // ignore error
      return;
    }
    if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') {
      return;
    }
    files.push(file);
  });

  return files;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!args.length) {
  args.push('test');
}

args.forEach(function (arg) {
  var newFiles;
  try {
newFiles = utils.<span class="apidocCodeKeywordSpan">lookupFiles</span>(arg, extensions, program.recursive);
  } catch (err) {
if (err.message.indexOf('cannot resolve path') === 0) {
  console.error('Warning: Could not find any test files matching pattern: ' + arg);
  return;
}

throw err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.map" id="apidoc.element.mocha.utils.map">
        function <span class="apidocSignatureSpan">mocha.utils.</span>map
        <span class="apidocSignatureSpan">(arr, fn, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (arr, fn, scope) {
  var result = [];
  for (var i = 0, l = arr.length; i &lt; l; i++) {
    result.push(fn.call(scope, arr[i], i, arr));
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function inlineDiff (err, escape) {
var msg = errorDiff(err, 'WordsWithSpace', escape);

// linenos
var lines = msg.split('\n');
if (lines.length &gt; 4) {
  var width = String(lines.length).length;
  msg = lines.<span class="apidocCodeKeywordSpan">map</span>(function (str, i) {
    return pad(++i, width) + ' |' + ' ' + str;
  }).join('\n');
}

// legend
msg = '\n' +
  color('diff removed', 'actual') +
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.noop" id="apidoc.element.mocha.utils.noop">
        function <span class="apidocSignatureSpan">mocha.utils.</span>noop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">noop = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.parseQuery" id="apidoc.element.mocha.utils.parseQuery">
        function <span class="apidocSignatureSpan">mocha.utils.</span>parseQuery
        <span class="apidocSignatureSpan">(qs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseQuery = function (qs) {
  return reduce(qs.replace('?', '').split('&amp;'), function (obj, pair) {
    var i = pair.indexOf('=');
    var key = pair.slice(0, i);
    var val = pair.slice(++i);

    // Due to how the URLSearchParams API treats spaces
    obj[key] = decodeURIComponent(val.replace(/\+/g, '%20'));

    return obj;
  }, {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Run mocha, returning the Runner.
 */

mocha.run = function (fn) {
var options = mocha.options;
mocha.globals('location');

var query = Mocha.utils.<span class="apidocCodeKeywordSpan">parseQuery</span>(global.location.search || '');
if (query.grep) {
  mocha.grep(query.grep);
}
if (query.fgrep) {
  mocha.fgrep(query.fgrep);
}
if (query.invert) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.reduce" id="apidoc.element.mocha.utils.reduce">
        function <span class="apidocSignatureSpan">mocha.utils.</span>reduce
        <span class="apidocSignatureSpan">(arr, fn, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function (arr, fn, val) {
  var rval = val;

  for (var i = 0, l = arr.length; i &lt; l; i++) {
    rval = fn(rval, arr[i], i, arr);
  }

  return rval;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @return {Array}
 * @api private
 */
function extraGlobals () {
  if (typeof process === 'object' &amp;&amp; typeof process.version === 'string') {
var parts = process.version.split('.');
var nodeVersion = utils.<span class="apidocCodeKeywordSpan">reduce</span>(parts, function (a, v) {
  return a &lt;&lt; 8 | v;
});

// 'errno' was renamed to process._errno in v0.9.11.

if (nodeVersion &lt; 0x00090B) {
  return ['errno'];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.slug" id="apidoc.element.mocha.utils.slug">
        function <span class="apidocSignatureSpan">mocha.utils.</span>slug
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slug = function (str) {
  return str
    .toLowerCase()
    .replace(/ +/g, '-')
    .replace(/[^-\w]/g, '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var link;
  for (var key in obj) {
    if (key === 'suite') {
      continue;
    }
    if (key !== SUITE_PREFIX) {
      link = ' - [' + key.substring(1) + ']';
      link += '(#' + utils.<span class="apidocCodeKeywordSpan">slug</span>(obj[key].suite.fullTitle()) + ')\n'
;;
      buf += Array(level).join('  ') + link;
    }
    buf += stringifyTOC(obj[key], level);
  }
  return buf;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.some" id="apidoc.element.mocha.utils.some">
        function <span class="apidocSignatureSpan">mocha.utils.</span>some
        <span class="apidocSignatureSpan">(arr, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function (arr, fn) {
  for (var i = 0, l = arr.length; i &lt; l; i++) {
    if (fn(arr[i])) {
      return true;
    }
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#2672]: Add coverage for node tests ([@c089], [@Munter])
- [#2680]: Increase tests coverage for base reporter ([@epallerols])
- [#2690]: Increase tests coverage for doc reporter ([@craigtaub])
- [#2701]: Increase tests coverage for landing, min, tap and list reporters ([@craigtaub])
- [#2691]: Increase tests coverage for spec + dot reporters ([@craigtaub])
- [#2698]: Increase tests coverage for xunit reporter ([@craigtaub])
- [#2699]: Increase tests coverage for json-stream, markdown and progress reporters ([@craigtaub])
- [#2703]: Cover .<span class="apidocCodeKeywordSpan">some</span>() function in utils.js with tests ([@seppevs])
- [#2773]: Add tests for loading reporters w/ relative/absolute paths ([@sul4bh])

## :nut_and_bolt: Other

- Remove bin/.eslintrc; ensure execs are linted ([@boneskull])
- [#2542]: Expand CONTRIBUTING.md ([@boneskull])
- [#2660]: Double timeouts on integration tests ([@Munter])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.stackTraceFilter" id="apidoc.element.mocha.utils.stackTraceFilter">
        function <span class="apidocSignatureSpan">mocha.utils.</span>stackTraceFilter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stackTraceFilter = function () {
  // TODO: Replace with `process.browser`
  var is = typeof document === 'undefined' ? { node: true } : { browser: true };
  var slash = path.sep;
  var cwd;
  if (is.node) {
    cwd = process.cwd() + slash;
  } else {
    cwd = (typeof location === 'undefined'
      ? window.location
      : location).href.replace(/\/[^/]*$/, '/');
    slash = '/';
  }

  function isMochaInternal (line) {
    return (~line.indexOf('node_modules' + slash + 'mocha' + slash)) ||
      (~line.indexOf('node_modules' + slash + 'mocha.js')) ||
      (~line.indexOf('bower_components' + slash + 'mocha.js')) ||
      (~line.indexOf(slash + 'mocha.js'));
  }

  function isNodeInternal (line) {
    return (~line.indexOf('(timers.js:')) ||
      (~line.indexOf('(events.js:')) ||
      (~line.indexOf('(node.js:')) ||
      (~line.indexOf('(module.js:')) ||
      (~line.indexOf('GeneratorFunctionPrototype.next (native)')) ||
      false;
  }

  return function (stack) {
    stack = stack.split('\n');

    stack = reduce(stack, function (list, line) {
      if (isMochaInternal(line)) {
        return list;
      }

      if (is.node &amp;&amp; isNodeInternal(line)) {
        return list;
      }

      // Clean up cwd(absolute)
      if (/\(?.+:\d+:\d+\)?$/.test(line)) {
        line = line.replace(cwd, '');
      }

      list.push(line);
      return list;
    }, []);

    return stack.join('\n');
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var inherits = utils.inherits;
var debug = require('debug')('mocha:runner');
var Runnable = require('./runnable');
var filter = utils.filter;
var indexOf = utils.indexOf;
var some = utils.some;
var keys = utils.keys;
var stackFilter = utils.<span class="apidocCodeKeywordSpan">stackTraceFilter</span>();
var stringify = utils.stringify;
var type = utils.type;
var undefinedError = utils.undefinedError;
var isArray = utils.isArray;

/**
* Non-enumerable globals.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.stringify" id="apidoc.element.mocha.utils.stringify">
        function <span class="apidocSignatureSpan">mocha.utils.</span>stringify
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function (value) {
  var typeHint = type(value);

  if (!~indexOf(['object', 'array', 'function'], typeHint)) {
    if (typeHint === 'buffer') {
      var json = value.toJSON();
      // Based on the toJSON result
      return jsonStringify(json.data &amp;&amp; json.type ? json.data : json, 2)
        .replace(/,(\n|$)/g, '$1');
    }

    // IE7/IE8 has a bizarre String constructor; needs to be coerced
    // into an array and back to obj.
    if (typeHint === 'string' &amp;&amp; typeof value === 'object') {
      value = reduce(value.split(''), function (acc, char, idx) {
        acc[idx] = char;
        return acc;
      }, {});
      typeHint = 'object';
    } else {
      return jsonStringify(value);
    }
  }

  for (var prop in value) {
    if (Object.prototype.hasOwnProperty.call(value, prop)) {
      return jsonStringify(exports.canonicalize(value, null, typeHint), 2).replace(/,(\n|$)/g, '$1');
    }
  }

  return emptyRepresentation(value, typeHint);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- [#880] - Make Mocha browserifyable ([@boneskull] via 524862b)
- [#2121] - Update [glob](https://npmjs.com/package/glob) to v3.2.11 ([@astorije] via 7920fc4)
- [#2126] - Fix dupe error messages in stack trace filter ([@Turbo87] via 4301caa)
- [#2109] - Fix certain diffs when objects cannot be coerced into primitives ([@joshlory] via 61fbb7f)
- [#1827] - Fix TWBS/`mocha.css` collisions ([@irnc] via 0543798)
- [#1760], [#1936] - Fix `this.skip()` in HTML reporter ([@mislav] via cb4248b)
- [#2115] - Fix exceptions thrown from hooks in HTML reporter ([@danielstjules] via e290bc0)
- [#2089] - Handle Symbol values in `util.<span class="apidocCodeKeywordSpan">stringify</span>()` ([@ryym] via ea61d05)
- [#2097] - Fix diff for objects overriding `Object.prototype.hasOwnProperty` ([@mantoni] via b20fdfe)
- [#2101] - Properly handle non-string "messages" thrown from assertion libraries ([@jkimbo] via 9c41051)
- [#2124] - Update [growl](https://npmjs.com/package/growl) ([@benjamine] via 9ae6a85)
- [#2162], [#2205] - JSDoc fixes ([@OlegTsyba] via 8031f20, [@ScottFreeCode] via f83b1d9)
- [#2132] - Remove Growl-related cruft ([@julienw] via 00d6469)
- [#2172] - Add [OpenCollective](https://opencollective.com) badge, sponsors &amp; backers ([@xdamman], [@boneskull] via caee94f
)
- [#1841] - Add new logo, banner assets ([@dasilvacontin] via 00fd0e1)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.trim" id="apidoc.element.mocha.utils.trim">
        function <span class="apidocSignatureSpan">mocha.utils.</span>trim
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trim = function (str) {
  return str.replace(/^\s+|\s+$/g, '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

1.4.0 / 2012-08-22
==================

* add mkdir -p to `mocha init`. Closes #539
* add `.only()`. Closes #524
* add `.skip()`. Closes #524
* change str.<span class="apidocCodeKeywordSpan">trim</span>() to use utils.trim(). Closes #533
* fix HTML progress indicator retina display
* fix url-encoding of click-to-grep HTML functionality

1.3.2 / 2012-08-01
==================

* fix exports double-execution regression. Closes #531
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.type" id="apidoc.element.mocha.utils.type">
        function <span class="apidocSignatureSpan">mocha.utils.</span>type
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function type(value) {
  if (value === undefined) {
    return 'undefined';
  } else if (value === null) {
    return 'null';
  } else if (typeof Buffer !== 'undefined' &amp;&amp; Buffer.isBuffer(value)) {
    return 'buffer';
  }
  return Object.prototype.toString.call(value)
    .replace(/^\[.+\s(.+?)]$/, '$1')
    .toLowerCase();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

for (var i = 0, len = paths.length; i &lt; len; ++i) {
  loc = path.join(paths[i], name);
  if (exists(loc)) return loc;
}
}

switch(os.<span class="apidocCodeKeywordSpan">type</span>()) {
case 'Darwin':
  if (which('terminal-notifier')) {
    cmd = {
        type: "Darwin-NotificationCenter"
      , pkg: "terminal-notifier"
      , msg: '-message'
      , title: '-title'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.undefinedError" id="apidoc.element.mocha.utils.undefinedError">
        function <span class="apidocSignatureSpan">mocha.utils.</span>undefinedError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">undefinedError = function () {
  return new Error('Caught undefined error, did you throw without specifying what?');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Generate an undefined error if `err` is not defined.
*
* @param {Error} err
* @return {Error}
*/

exports.getError = function (err) {
 return err || exports.<span class="apidocCodeKeywordSpan">undefinedError</span>();
};

/**
* @summary
* This Filter based on `mocha-clean` module.(see: `github.com/rstacruz/mocha-clean`)
* @description
* When invoking this function you get a filter function that get the Error.stack as an input,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.utils.watch" id="apidoc.element.mocha.utils.watch">
        function <span class="apidocSignatureSpan">mocha.utils.</span>watch
        <span class="apidocSignatureSpan">(files, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">watch = function (files, fn) {
  var options = { interval: 100 };
  files.forEach(function (file) {
    debug('file %s', file);
    watchFile(file, options, function (curr, prev) {
      if (prev.mtime &lt; curr.mtime) {
        fn(file);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  mocha.suite = mocha.suite.clone();
  mocha.suite.ctx = new Mocha.Context();
  mocha.ui(program.ui);
  loadAndRun();
};

utils.<span class="apidocCodeKeywordSpan">watch</span>(watchFiles, function () {
  runAgain = true;
  if (runner) {
    runner.abort();
  } else {
    rerun();
  }
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.xunit" id="apidoc.module.mocha.xunit">module mocha.xunit</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.xunit.xunit" id="apidoc.element.mocha.xunit.xunit">
        function <span class="apidocSignatureSpan">mocha.</span>xunit
        <span class="apidocSignatureSpan">(runner, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function XUnit(runner, options) {
  Base.call(this, runner);

  var stats = this.stats;
  var tests = [];
  var self = this;

  if (options &amp;&amp; options.reporterOptions &amp;&amp; options.reporterOptions.output) {
    if (!fs.createWriteStream) {
      throw new Error('file output not supported in browser');
    }
    mkdirp.sync(path.dirname(options.reporterOptions.output));
    self.fileStream = fs.createWriteStream(options.reporterOptions.output);
  }

  runner.on('pending', function (test) {
    tests.push(test);
  });

  runner.on('pass', function (test) {
    tests.push(test);
  });

  runner.on('fail', function (test) {
    tests.push(test);
  });

  runner.on('end', function () {
    self.write(tag('testsuite', {
      name: 'Mocha Tests',
      tests: stats.tests,
      failures: stats.failures,
      errors: stats.failures,
      skipped: stats.tests - stats.failures - stats.passes,
      timestamp: (new Date()).toUTCString(),
      time: (stats.duration / 1000) || 0
    }, false));

    tests.forEach(function (t) {
      self.test(t);
    });

    self.write('&lt;/testsuite&gt;');
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.xunit.super_" id="apidoc.element.mocha.xunit.super_">
        function <span class="apidocSignatureSpan">mocha.xunit.</span>super_
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Base(runner) {
  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };
  var failures = this.failures = [];

  if (!runner) {
    return;
  }
  this.runner = runner;

  runner.stats = stats;

  runner.on('start', function () {
    stats.start = new Date();
  });

  runner.on('suite', function (suite) {
    stats.suites = stats.suites || 0;
    suite.root || stats.suites++;
  });

  runner.on('test end', function () {
    stats.tests = stats.tests || 0;
    stats.tests++;
  });

  runner.on('pass', function (test) {
    stats.passes = stats.passes || 0;

    if (test.duration &gt; test.slow()) {
      test.speed = 'slow';
    } else if (test.duration &gt; test.slow() / 2) {
      test.speed = 'medium';
    } else {
      test.speed = 'fast';
    }

    stats.passes++;
  });

  runner.on('fail', function (test, err) {
    stats.failures = stats.failures || 0;
    stats.failures++;
    test.err = err;
    failures.push(test);
  });

  runner.on('end', function () {
    stats.end = new Date();
    stats.duration = new Date() - stats.start;
  });

  runner.on('pending', function () {
    stats.pending++;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mocha.xunit.prototype" id="apidoc.module.mocha.xunit.prototype">module mocha.xunit.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mocha.xunit.prototype.done" id="apidoc.element.mocha.xunit.prototype.done">
        function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>done
        <span class="apidocSignatureSpan">(failures, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function (failures, fn) {
  if (this.fileStream) {
    this.fileStream.end(function () {
      fn(failures);
    });
  } else {
    fn(failures);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (options.useColors !== undefined) {
    exports.reporters.Base.useColors = options.useColors;
  }
  exports.reporters.Base.inlineDiffs = options.useInlineDiffs;

  function done (failures) {
    if (reporter.done) {
      reporter.<span class="apidocCodeKeywordSpan">done</span>(failures, fn);
    } else {
      fn &amp;&amp; fn(failures);
    }
  }

  return runner.run(done);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.xunit.prototype.test" id="apidoc.element.mocha.xunit.prototype.test">
        function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>test
        <span class="apidocSignatureSpan">(test)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">test = function (test) {
  var attrs = {
    classname: test.parent.fullTitle(),
    name: test.title,
    time: (test.duration / 1000) || 0
  };

  if (test.state === 'failed') {
    var err = test.err;
    this.write(tag('testcase', attrs, false, tag('failure', {}, false, escape(err.message) + '\n' + escape(err.stack))));
  } else if (test.isPending()) {
    this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));
  } else {
    this.write(tag('testcase', attrs, true));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Pending test case.
 *
 * @param {string} title
 */
skip: function (title) {
  context.<span class="apidocCodeKeywordSpan">test</span>(title);
},

/**
 * Number of retry attempts
 *
 * @param {number} n
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mocha.xunit.prototype.write" id="apidoc.element.mocha.xunit.prototype.write">
        function <span class="apidocSignatureSpan">mocha.xunit.prototype.</span>write
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (line) {
  if (this.fileStream) {
    this.fileStream.write(line + '\n');
  } else if (typeof process === 'object' &amp;&amp; process.stdout) {
    process.stdout.write(line + '\n');
  } else {
    console.log(line);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Expose some basic cursor interactions that are common among reporters.
 */

exports.cursor = {
hide: function () {
  isatty &amp;&amp; process.stdout.<span class="apidocCodeKeywordSpan">write</span>('\u001b[?25l');
},

show: function () {
  isatty &amp;&amp; process.stdout.write('\u001b[?25h');
},

deleteLine: function () {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>